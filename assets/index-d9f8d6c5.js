var os=Object.defineProperty;var cs=(t,e,n)=>e in t?os(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ne=(t,e,n)=>(cs(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rt,C,lr,xn,De,Vn,dr,_t={},fr=[],us=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function re(t,e){for(var n in e)t[n]=e[n];return t}function hr(t){var e=t.parentNode;e&&e.removeChild(t)}function En(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?rt.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return $e(t,a,r,i,null)}function $e(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++lr};return i==null&&C.vnode!=null&&C.vnode(s),s}function ls(){return{current:null}}function st(t){return t.children}function Ze(t,e){this.props=t,this.context=e}function Ve(t,e){if(e==null)return t.__?Ve(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ve(t):null}function pr(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return pr(t)}}function on(t){(!t.__d&&(t.__d=!0)&&De.push(t)&&!mt.__r++||Vn!==C.debounceRendering)&&((Vn=C.debounceRendering)||setTimeout)(mt)}function mt(){for(var t;mt.__r=De.length;)t=De.sort(function(e,n){return e.__v.__b-n.__v.__b}),De=[],t.some(function(e){var n,r,i,s,a,o;e.__d&&(a=(s=(n=e).__v).__e,(o=n.__P)&&(r=[],(i=re({},s)).__v=s.__v+1,Cn(o,s,i,n.__n,o.ownerSVGElement!==void 0,s.__h!=null?[a]:null,r,a??Ve(s),s.__h),gr(r,s),s.__e!=a&&pr(s)))})}function _r(t,e,n,r,i,s,a,o,c,l){var u,y,f,d,_,k,S,v=r&&r.__k||fr,E=v.length;for(n.__k=[],u=0;u<e.length;u++)if((d=n.__k[u]=(d=e[u])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?$e(null,d,null,null,d):Array.isArray(d)?$e(st,{children:d},null,null,null):d.__b>0?$e(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(f=v[u])===null||f&&d.key==f.key&&d.type===f.type)v[u]=void 0;else for(y=0;y<E;y++){if((f=v[y])&&d.key==f.key&&d.type===f.type){v[y]=void 0;break}f=null}Cn(t,d,f=f||_t,i,s,a,o,c,l),_=d.__e,(y=d.ref)&&f.ref!=y&&(S||(S=[]),f.ref&&S.push(f.ref,null,d),S.push(y,d.__c||_,d)),_!=null?(k==null&&(k=_),typeof d.type=="function"&&d.__k===f.__k?d.__d=c=mr(d,c,t):c=yr(t,d,f,v,_,c),typeof n.type=="function"&&(n.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=Ve(f))}for(n.__e=k,u=E;u--;)v[u]!=null&&wr(v[u],v[u]);if(S)for(u=0;u<S.length;u++)vr(S[u],S[++u],S[++u])}function mr(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?mr(r,e,n):yr(n,r,r,i,r.__e,e));return e}function yr(t,e,n,r,i,s){var a,o,c;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),a=null;else{for(o=s,c=0;(o=o.nextSibling)&&c<r.length;c+=1)if(o==i)break e;t.insertBefore(i,s),a=s}return a!==void 0?a:i.nextSibling}function ds(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||yt(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||yt(t,s,e[s],n[s],r)}function Kn(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||us.test(e)?n:n+"px"}function yt(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Kn(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Kn(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Hn:zn,s):t.removeEventListener(e,s?Hn:zn,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function zn(t){this.l[t.type+!1](C.event?C.event(t):t)}function Hn(t){this.l[t.type+!0](C.event?C.event(t):t)}function Cn(t,e,n,r,i,s,a,o,c){var l,u,y,f,d,_,k,S,v,E,b,w,R,P,D,L=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,o=e.__e=n.__e,e.__h=null,s=[o]),(l=C.__b)&&l(e);try{e:if(typeof L=="function"){if(S=e.props,v=(l=L.contextType)&&r[l.__c],E=l?v?v.props.value:l.__:r,n.__c?k=(u=e.__c=n.__c).__=u.__E:("prototype"in L&&L.prototype.render?e.__c=u=new L(S,E):(e.__c=u=new Ze(S,E),u.constructor=L,u.render=hs),v&&v.sub(u),u.props=S,u.state||(u.state={}),u.context=E,u.__n=r,y=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),L.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=re({},u.__s)),re(u.__s,L.getDerivedStateFromProps(S,u.__s))),f=u.props,d=u.state,y)L.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(L.getDerivedStateFromProps==null&&S!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(S,E),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(S,u.__s,E)===!1||e.__v===n.__v){for(u.props=S,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(H){H&&(H.__=e)}),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&a.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(S,u.__s,E),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,d,_)})}if(u.context=E,u.props=S,u.__v=e,u.__P=t,w=C.__r,R=0,"prototype"in L&&L.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(e),l=u.render(u.props,u.state,u.context),P=0;P<u._sb.length;P++)u.__h.push(u._sb[P]);u._sb=[]}else do u.__d=!1,w&&w(e),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++R<25);u.state=u.__s,u.getChildContext!=null&&(r=re(re({},r),u.getChildContext())),y||u.getSnapshotBeforeUpdate==null||(_=u.getSnapshotBeforeUpdate(f,d)),D=l!=null&&l.type===st&&l.key==null?l.props.children:l,_r(t,Array.isArray(D)?D:[D],e,n,r,i,s,a,o,c),u.base=e.__e,e.__h=null,u.__h.length&&a.push(u),k&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=fs(n.__e,e,n,r,i,s,a,c);(l=C.diffed)&&l(e)}catch(H){e.__v=null,(c||s!=null)&&(e.__e=o,e.__h=!!c,s[s.indexOf(o)]=null),C.__e(H,e,n)}}function gr(t,e){C.__c&&C.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){C.__e(r,n.__v)}})}function fs(t,e,n,r,i,s,a,o){var c,l,u,y=n.props,f=e.props,d=e.type,_=0;if(d==="svg"&&(i=!0),s!=null){for(;_<s.length;_++)if((c=s[_])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){t=c,s[_]=null;break}}if(t==null){if(d===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,f.is&&f),s=null,o=!1}if(d===null)y===f||o&&t.data===f||(t.data=f);else{if(s=s&&rt.call(t.childNodes),l=(y=n.props||_t).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!o){if(s!=null)for(y={},_=0;_<t.attributes.length;_++)y[t.attributes[_].name]=t.attributes[_].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(ds(t,f,y,i,o),u)e.__k=[];else if(_=e.props.children,_r(t,Array.isArray(_)?_:[_],e,n,r,i&&d!=="foreignObject",s,a,s?s[0]:n.__k&&Ve(n,0),o),s!=null)for(_=s.length;_--;)s[_]!=null&&hr(s[_]);o||("value"in f&&(_=f.value)!==void 0&&(_!==t.value||d==="progress"&&!_||d==="option"&&_!==y.value)&&yt(t,"value",_,y.value,!1),"checked"in f&&(_=f.checked)!==void 0&&_!==t.checked&&yt(t,"checked",_,y.checked,!1))}return t}function vr(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){C.__e(r,n)}}function wr(t,e,n){var r,i;if(C.unmount&&C.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||vr(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){C.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&wr(r[i],e,n||typeof t.type!="function");n||t.__e==null||hr(t.__e),t.__=t.__e=t.__d=void 0}function hs(t,e,n){return this.constructor(t,n)}function ps(t,e,n){var r,i,s;C.__&&C.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],Cn(e,t=(!r&&n||e).__k=En(st,null,[t]),i||_t,_t,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?rt.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),gr(s,t)}function br(t,e,n){var r,i,s,a=re({},t.props);for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];return arguments.length>2&&(a.children=arguments.length>3?rt.call(arguments,2):n),$e(t.type,a,r||t.key,i||t.ref,null)}function _s(t,e){var n={__c:e="__cC"+dr++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(on)},this.sub=function(a){i.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),o&&o.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}rt=fr.slice,C={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(o){t=o}throw t}},lr=0,xn=function(t){return t!=null&&t.constructor===void 0},Ze.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=re({},this.state),typeof t=="function"&&(t=t(re({},n),this.props)),t&&re(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),on(this))},Ze.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),on(this))},Ze.prototype.render=st,De=[],mt.__r=0,dr=0;var Be,$,Jt,Fn,gt=0,xr=[],ft=[],Jn=C.__b,Wn=C.__r,Yn=C.diffed,qn=C.__c,Gn=C.unmount;function it(t,e){C.__h&&C.__h($,t,gt||e),gt=0;var n=$.__H||($.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:ft}),n.__[t]}function ms(t){return gt=1,ys(Er,t)}function ys(t,e,n){var r=it(Be++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Er(void 0,e),function(s){var a=r.__N?r.__N[0]:r.__[0],o=r.t(a,s);a!==o&&(r.__N=[o,r.__[1]],r.__c.setState({}))}],r.__c=$,!$.u)){$.u=!0;var i=$.shouldComponentUpdate;$.shouldComponentUpdate=function(s,a,o){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(u){return u.__c});if(c.every(function(u){return!u.__N}))return!i||i.call(this,s,a,o);var l=!1;return c.forEach(function(u){if(u.__N){var y=u.__[0];u.__=u.__N,u.__N=void 0,y!==u.__[0]&&(l=!0)}}),!(!l&&r.__c.props===s)&&(!i||i.call(this,s,a,o))}}return r.__N||r.__}function _e(t,e){var n=it(Be++,3);!C.__s&&Sn(n.__H,e)&&(n.__=t,n.i=e,$.__H.__h.push(n))}function Tn(t,e){var n=it(Be++,4);!C.__s&&Sn(n.__H,e)&&(n.__=t,n.i=e,$.__h.push(n))}function gs(t){return gt=5,kn(function(){return{current:t}},[])}function kn(t,e){var n=it(Be++,7);return Sn(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function vs(t){var e=$.context[t.__c],n=it(Be++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub($)),e.props.value):t.__}function ws(){for(var t;t=xr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ht),t.__H.__h.forEach(cn),t.__H.__h=[]}catch(e){t.__H.__h=[],C.__e(e,t.__v)}}C.__b=function(t){$=null,Jn&&Jn(t)},C.__r=function(t){Wn&&Wn(t),Be=0;var e=($=t.__c).__H;e&&(Jt===$?(e.__h=[],$.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ft,n.__N=n.i=void 0})):(e.__h.forEach(ht),e.__h.forEach(cn),e.__h=[])),Jt=$},C.diffed=function(t){Yn&&Yn(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(xr.push(e)!==1&&Fn===C.requestAnimationFrame||((Fn=C.requestAnimationFrame)||bs)(ws)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ft&&(n.__=n.__V),n.i=void 0,n.__V=ft})),Jt=$=null},C.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ht),n.__h=n.__h.filter(function(r){return!r.__||cn(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],C.__e(r,n.__v)}}),qn&&qn(t,e)},C.unmount=function(t){Gn&&Gn(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ht(r)}catch(i){e=i}}),n.__H=void 0,e&&C.__e(e,n.__v))};var Qn=typeof requestAnimationFrame=="function";function bs(t){var e,n=function(){clearTimeout(r),Qn&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Qn&&(e=requestAnimationFrame(n))}function ht(t){var e=$,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),$=e}function cn(t){var e=$;t.__c=t.__(),$=e}function Sn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Er(t,e){return typeof e=="function"?e(t):e}function Wt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function xs(t,e){const n=e(),[{_instance:r},i]=ms({_instance:{_value:n,_getSnapshot:e}});return Tn(()=>{r._value=n,r._getSnapshot=e,Wt(r._value,e())||i({_instance:r})},[t,n,e]),_e(()=>(Wt(r._value,r._getSnapshot())||i({_instance:r}),t(()=>{Wt(r._value,r._getSnapshot())||i({_instance:r})})),[t]),n}const Nn=t=>{const e=gs([t,(...n)=>e[0](...n)]).current;return Tn(()=>{e[0]=t}),e[1]},Es=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Cs=(t,e="")=>t[0]==="~"?t.slice(1):e+t,Ts="popstate",An="pushState",In="replaceState",ks="hashchange",Xn=[Ts,An,In,ks],Ss=t=>{for(const e of Xn)addEventListener(e,t);return()=>{for(const e of Xn)removeEventListener(e,t)}},Ns=t=>xs(Ss,t),As=()=>location.pathname,Is=()=>Ns(As),Ms=(t,{replace:e=!1}={})=>history[e?In:An](null,"",t),Rs=(t={})=>[Es(t.base,Is()),Nn((e,n)=>Ms(Cs(e,t.base),n))];if(typeof history<"u")for(const t of[An,In]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}function Ps(t=Ls){let e={};const n=r=>e[r]||(e[r]=t(r));return(r,i)=>{const{regexp:s,keys:a}=n(r||""),o=s.exec(i);return o?[!0,a.reduce((l,u,y)=>(l[u.name]=o[y+1],l),{})]:[!1,null]}}const er=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Bs=(t,e,n)=>{let r=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&n&&(r="(?:\\/"+r+")"),r+(e?"?":"")},Ls=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=e.exec(t))!==null;){const[a,o,c]=n,l=c==="+"||c==="*",u=c==="?"||c==="*",y=u&&t[n.index-1]==="/"?1:0,f=t.substring(r,n.index-y);i.push({name:o}),r=e.lastIndex,s+=er(f)+Bs(l,u,y)}return s+=er(t.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},Os={hook:Rs,matcher:Ps(),base:""},Ds=_s(Os),Lt=()=>vs(Ds),Ot=t=>t.hook(t),Cr=()=>Ot(Lt()),$s=t=>{const e=Lt(),[n]=Ot(e);return e.matcher(t,n)},Yt=({path:t,match:e,component:n,children:r})=>{const i=$s(t),[s,a]=e||i;return s?n?En(n,{params:a}):typeof r=="function"?r(a):r:null},Mn=(t,e)=>{const n=Lt(),[,r]=Ot(n),{to:i,href:s=i,children:a,onClick:o}=t,c=Nn(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o&&o(y),y.defaultPrevented||(y.preventDefault(),r(i||s,t)))}),l={href:s[0]==="~"?s.slice(1):n.base+s,onClick:c,to:null,ref:e},u=xn(a)?a:En("a",t);return br(u,l)},un=t=>Array.isArray(t)?[].concat(...t.map(e=>e&&e.type===st?un(e.props.children):un(e))):[t],Zs=({children:t,location:e})=>{const n=Lt(),r=n.matcher,[i]=Ot(n);for(const s of un(t)){let a=0;if(xn(s)&&(a=s.props.path?r(s.props.path,e||i):[!0,{}])[0])return br(s,{match:a})}return null},js=t=>{const{to:e,href:n=e}=t,[,r]=Cr(),i=Nn(()=>r(e||n,t));return Tn(()=>{i()},[]),null};var M;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(M||(M={}));const m=M.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ce=t=>{switch(typeof t){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(t)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(t)?m.array:t===null?m.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?m.promise:typeof Map<"u"&&t instanceof Map?m.map:typeof Set<"u"&&t instanceof Set?m.set:typeof Date<"u"&&t instanceof Date?m.date:m.object;default:return m.unknown}},p=M.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Us=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class se extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const l=a.path[c];c===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,M.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}se.create=t=>new se(t);const Ke=(t,e)=>{let n;switch(t.code){case p.invalid_type:t.received===m.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case p.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,M.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:n=`Unrecognized key(s) in object: ${M.joinValues(t.keys,", ")}`;break;case p.invalid_union:n="Invalid input";break;case p.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${M.joinValues(t.options)}`;break;case p.invalid_enum_value:n=`Invalid enum value. Expected ${M.joinValues(t.options)}, received '${t.received}'`;break;case p.invalid_arguments:n="Invalid function arguments";break;case p.invalid_return_type:n="Invalid function return type";break;case p.invalid_date:n="Invalid date";break;case p.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:M.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case p.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(t.minimum)}`:n="Invalid input";break;case p.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(t.maximum)}`:n="Invalid input";break;case p.custom:n="Invalid input";break;case p.invalid_intersection_types:n="Intersection results could not be merged";break;case p.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case p.not_finite:n="Number must be finite";break;default:n=e.defaultError,M.assertNever(t)}return{message:n}};let Tr=Ke;function Vs(t){Tr=t}function vt(){return Tr}const wt=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};let o="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)o=l(a,{data:e,defaultError:o}).message;return{...i,path:s,message:i.message||o}},Ks=[];function g(t,e){const n=wt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,vt(),Ke].filter(r=>!!r)});t.common.issues.push(n)}class K{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return T;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return K.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return T;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const T=Object.freeze({status:"aborted"}),kr=t=>({status:"dirty",value:t}),V=t=>({status:"valid",value:t}),ln=t=>t.status==="aborted",dn=t=>t.status==="dirty",bt=t=>t.status==="valid",xt=t=>typeof Promise!==void 0&&t instanceof Promise;var I;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(I||(I={}));class Q{constructor(e,n,r,i){this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._path.concat(this._key)}}const tr=(t,e)=>{if(bt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new se(t.common.issues)}};function A(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>a.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:n??o.defaultError},description:i}}class N{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ce(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ce(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new K,ctx:{common:e.parent.common,data:e.data,parsedType:ce(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(xt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ce(e)},s=this._parseSync({data:e,path:i.path,parent:i});return tr(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ce(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(xt(i)?i:Promise.resolve(i));return tr(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:p.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Y({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return G.create(this)}nullable(){return ge.create(this)}nullish(){return this.optional().nullable()}array(){return W.create(this)}promise(){return Se.create(this)}or(e){return We.create([this,e])}and(e){return Ye.create(this,e)}transform(e){return new Y({schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new et({innerType:this,defaultValue:n,typeName:x.ZodDefault})}brand(){return new Nr({typeName:x.ZodBranded,type:this,...A(void 0)})}catch(e){const n=typeof e=="function"?e:()=>e;return new St({innerType:this,defaultValue:n,typeName:x.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ot.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zs=/^c[^\s-]{8,}$/i,Hs=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Fs=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Js=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}:\\d{2})|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class ae extends N{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:p.invalid_string,...I.errToObj(r)}),this.nonempty=e=>this.min(1,I.errToObj(e)),this.trim=()=>new ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){const s=this._getOrReturnCtx(e);return g(s,{code:p.invalid_type,expected:m.string,received:s.parsedType}),T}const r=new K;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?g(i,{code:p.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&g(i,{code:p.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Fs.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"email",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Hs.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"uuid",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")zs.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cuid",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),g(i,{validation:"url",code:p.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"regex",code:p.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:p.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:p.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Js(s).test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:p.invalid_string,validation:"datetime",message:s.message}),r.dirty()):M.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...I.errToObj(e)})}url(e){return this._addCheck({kind:"url",...I.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...I.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...I.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...I.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...I.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...I.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...I.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...I.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...I.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...I.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ae.create=t=>{var e;return new ae({checks:[],typeName:x.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...A(t)})};function Ws(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class le extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){const s=this._getOrReturnCtx(e);return g(s,{code:p.invalid_type,expected:m.number,received:s.parsedType}),T}let r;const i=new K;for(const s of this._def.checks)s.kind==="int"?M.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:p.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ws(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),g(r,{code:p.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:p.not_finite,message:s.message}),i.dirty()):M.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,I.toString(n))}gt(e,n){return this.setLimit("min",e,!1,I.toString(n))}lte(e,n){return this.setLimit("max",e,!0,I.toString(n))}lt(e,n){return this.setLimit("max",e,!1,I.toString(n))}setLimit(e,n,r,i){return new le({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:I.toString(i)}]})}_addCheck(e){return new le({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:I.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:I.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}le.create=t=>new le({checks:[],typeName:x.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...A(t)});class ze extends N{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==m.bigint){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.bigint,received:r.parsedType}),T}return V(e.data)}}ze.create=t=>{var e;return new ze({typeName:x.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...A(t)})};class He extends N{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==m.boolean){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.boolean,received:r.parsedType}),T}return V(e.data)}}He.create=t=>new He({typeName:x.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...A(t)});class me extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){const s=this._getOrReturnCtx(e);return g(s,{code:p.invalid_type,expected:m.date,received:s.parsedType}),T}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return g(s,{code:p.invalid_date}),T}const r=new K;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:p.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):M.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new me({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:I.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:I.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}me.create=t=>new me({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:x.ZodDate,...A(t)});class Et extends N{_parse(e){if(this._getType(e)!==m.symbol){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.symbol,received:r.parsedType}),T}return V(e.data)}}Et.create=t=>new Et({typeName:x.ZodSymbol,...A(t)});class Fe extends N{_parse(e){if(this._getType(e)!==m.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.undefined,received:r.parsedType}),T}return V(e.data)}}Fe.create=t=>new Fe({typeName:x.ZodUndefined,...A(t)});class Je extends N{_parse(e){if(this._getType(e)!==m.null){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.null,received:r.parsedType}),T}return V(e.data)}}Je.create=t=>new Je({typeName:x.ZodNull,...A(t)});class ke extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return V(e.data)}}ke.create=t=>new ke({typeName:x.ZodAny,...A(t)});class pe extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return V(e.data)}}pe.create=t=>new pe({typeName:x.ZodUnknown,...A(t)});class oe extends N{_parse(e){const n=this._getOrReturnCtx(e);return g(n,{code:p.invalid_type,expected:m.never,received:n.parsedType}),T}}oe.create=t=>new oe({typeName:x.ZodNever,...A(t)});class Ct extends N{_parse(e){if(this._getType(e)!==m.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.void,received:r.parsedType}),T}return V(e.data)}}Ct.create=t=>new Ct({typeName:x.ZodVoid,...A(t)});class W extends N{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==m.array)return g(n,{code:p.invalid_type,expected:m.array,received:n.parsedType}),T;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(g(n,{code:a?p.too_big:p.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(g(n,{code:p.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(g(n,{code:p.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((a,o)=>i.type._parseAsync(new Q(n,a,n.path,o)))).then(a=>K.mergeArray(r,a));const s=n.data.map((a,o)=>i.type._parseSync(new Q(n,a,n.path,o)));return K.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new W({...this._def,minLength:{value:e,message:I.toString(n)}})}max(e,n){return new W({...this._def,maxLength:{value:e,message:I.toString(n)}})}length(e,n){return new W({...this._def,exactLength:{value:e,message:I.toString(n)}})}nonempty(e){return this.min(1,e)}}W.create=(t,e)=>new W({type:t,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...A(e)});var Tt;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Tt||(Tt={}));const nr=t=>e=>new O({...t,shape:()=>({...t.shape(),...e})});function xe(t){if(t instanceof O){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=G.create(xe(r))}return new O({...t._def,shape:()=>e})}else return t instanceof W?W.create(xe(t.element)):t instanceof G?G.create(xe(t.unwrap())):t instanceof ge?ge.create(xe(t.unwrap())):t instanceof X?X.create(t.items.map(e=>xe(e))):t}class O extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=nr(this._def),this.extend=nr(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=M.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==m.object){const l=this._getOrReturnCtx(e);return g(l,{code:p.invalid_type,expected:m.object,received:l.parsedType}),T}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof oe&&this._def.unknownKeys==="strip"))for(const l in i.data)a.includes(l)||o.push(l);const c=[];for(const l of a){const u=s[l],y=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Q(i,y,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof oe){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")o.length>0&&(g(i,{code:p.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of o){const y=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Q(i,y,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const y=await u.key;l.push({key:y,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>K.mergeObjectSync(r,l)):K.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return I.errToObj,new O({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=I.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new O({...this._def,unknownKeys:"strip"})}passthrough(){return new O({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new O({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Tt.mergeShapes(this._def.shape(),e._def.shape()),typeName:x.ZodObject})}catchall(e){return new O({...this._def,catchall:e})}pick(e){const n={};return M.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new O({...this._def,shape:()=>n})}omit(e){const n={};return M.objectKeys(this.shape).map(r=>{M.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new O({...this._def,shape:()=>n})}deepPartial(){return xe(this)}partial(e){const n={};if(e)return M.objectKeys(this.shape).map(r=>{M.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new O({...this._def,shape:()=>n});for(const r in this.shape){const i=this.shape[r];n[r]=i.optional()}return new O({...this._def,shape:()=>n})}required(e){const n={};if(e)M.objectKeys(this.shape).map(r=>{if(M.objectKeys(e).indexOf(r)===-1)n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof G;)s=s._def.innerType;n[r]=s}});else for(const r in this.shape){let s=this.shape[r];for(;s instanceof G;)s=s._def.innerType;n[r]=s}return new O({...this._def,shape:()=>n})}keyof(){return Sr(M.objectKeys(this.shape))}}O.create=(t,e)=>new O({shape:()=>t,unknownKeys:"strip",catchall:oe.create(),typeName:x.ZodObject,...A(e)});O.strictCreate=(t,e)=>new O({shape:()=>t,unknownKeys:"strict",catchall:oe.create(),typeName:x.ZodObject,...A(e)});O.lazycreate=(t,e)=>new O({shape:t,unknownKeys:"strip",catchall:oe.create(),typeName:x.ZodObject,...A(e)});class We extends N{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new se(o.ctx.common.issues));return g(n,{code:p.invalid_union,unionErrors:a}),T}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(c=>new se(c));return g(n,{code:p.invalid_union,unionErrors:o}),T}}get options(){return this._def.options}}We.create=(t,e)=>new We({options:t,typeName:x.ZodUnion,...A(e)});const pt=t=>t instanceof Ge?pt(t.schema):t instanceof Y?pt(t.innerType()):t instanceof Qe?[t.value]:t instanceof at?t.options:t instanceof Xe?Object.keys(t.enum):t instanceof et?pt(t._def.innerType):t instanceof Fe?[void 0]:t instanceof Je?[null]:null;class Dt extends N{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==m.object)return g(n,{code:p.invalid_type,expected:m.object,received:n.parsedType}),T;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(g(n,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),T)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=pt(s.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new Dt({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...A(r)})}}function fn(t,e){const n=ce(t),r=ce(e);if(t===e)return{valid:!0,data:t};if(n===m.object&&r===m.object){const i=M.objectKeys(e),s=M.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const c=fn(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===m.array&&r===m.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],c=fn(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===m.date&&r===m.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ye extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(ln(s)||ln(a))return T;const o=fn(s.value,a.value);return o.valid?((dn(s)||dn(a))&&n.dirty(),{status:n.value,value:o.data}):(g(r,{code:p.invalid_intersection_types}),T)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ye.create=(t,e,n)=>new Ye({left:t,right:e,typeName:x.ZodIntersection,...A(n)});class X extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.array)return g(r,{code:p.invalid_type,expected:m.array,received:r.parsedType}),T;if(r.data.length<this._def.items.length)return g(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),T;!this._def.rest&&r.data.length>this._def.items.length&&(g(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=r.data.map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Q(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>K.mergeArray(n,a)):K.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new X({...this._def,rest:e})}}X.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new X({items:t,typeName:x.ZodTuple,rest:null,...A(e)})};class qe extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.object)return g(r,{code:p.invalid_type,expected:m.object,received:r.parsedType}),T;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Q(r,o,r.path,o)),value:a._parse(new Q(r,r.data[o],r.path,o))});return r.common.async?K.mergeObjectAsync(n,i):K.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof N?new qe({keyType:e,valueType:n,typeName:x.ZodRecord,...A(r)}):new qe({keyType:ae.create(),valueType:e,typeName:x.ZodRecord,...A(n)})}}class kt extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.map)return g(r,{code:p.invalid_type,expected:m.map,received:r.parsedType}),T;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],l)=>({key:i._parse(new Q(r,o,r.path,[l,"key"])),value:s._parse(new Q(r,c,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return T;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return T;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(l.value,u.value)}return{status:n.value,value:o}}}}kt.create=(t,e,n)=>new kt({valueType:e,keyType:t,typeName:x.ZodMap,...A(n)});class ye extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.set)return g(r,{code:p.invalid_type,expected:m.set,received:r.parsedType}),T;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(g(r,{code:p.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(g(r,{code:p.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(c){const l=new Set;for(const u of c){if(u.status==="aborted")return T;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const o=[...r.data.values()].map((c,l)=>s._parse(new Q(r,c,r.path,l)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new ye({...this._def,minSize:{value:e,message:I.toString(n)}})}max(e,n){return new ye({...this._def,maxSize:{value:e,message:I.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ye.create=(t,e)=>new ye({valueType:t,minSize:null,maxSize:null,typeName:x.ZodSet,...A(e)});class Ee extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==m.function)return g(n,{code:p.invalid_type,expected:m.function,received:n.parsedType}),T;function r(o,c){return wt({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vt(),Ke].filter(l=>!!l),issueData:{code:p.invalid_arguments,argumentsError:c}})}function i(o,c){return wt({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,vt(),Ke].filter(l=>!!l),issueData:{code:p.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;return this._def.returns instanceof Se?V(async(...o)=>{const c=new se([]),l=await this._def.args.parseAsync(o,s).catch(f=>{throw c.addIssue(r(o,f)),c}),u=await a(...l);return await this._def.returns._def.type.parseAsync(u,s).catch(f=>{throw c.addIssue(i(u,f)),c})}):V((...o)=>{const c=this._def.args.safeParse(o,s);if(!c.success)throw new se([r(o,c.error)]);const l=a(...c.data),u=this._def.returns.safeParse(l,s);if(!u.success)throw new se([i(l,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ee({...this._def,args:X.create(e).rest(pe.create())})}returns(e){return new Ee({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ee({args:e||X.create([]).rest(pe.create()),returns:n||pe.create(),typeName:x.ZodFunction,...A(r)})}}class Ge extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ge.create=(t,e)=>new Ge({getter:t,typeName:x.ZodLazy,...A(e)});class Qe extends N{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return g(n,{code:p.invalid_literal,expected:this._def.value}),T}return{status:"valid",value:e.data}}get value(){return this._def.value}}Qe.create=(t,e)=>new Qe({value:t,typeName:x.ZodLiteral,...A(e)});function Sr(t,e){return new at({values:t,typeName:x.ZodEnum,...A(e)})}class at extends N{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return g(n,{expected:M.joinValues(r),received:n.parsedType,code:p.invalid_type}),T}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return g(n,{received:n.data,code:p.invalid_enum_value,options:r}),T}return V(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}at.create=Sr;class Xe extends N{_parse(e){const n=M.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==m.string&&r.parsedType!==m.number){const i=M.objectValues(n);return g(r,{expected:M.joinValues(i),received:r.parsedType,code:p.invalid_type}),T}if(n.indexOf(e.data)===-1){const i=M.objectValues(n);return g(r,{received:r.data,code:p.invalid_enum_value,options:i}),T}return V(e.data)}get enum(){return this._def.values}}Xe.create=(t,e)=>new Xe({values:t,typeName:x.ZodNativeEnum,...A(e)});class Se extends N{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==m.promise&&n.common.async===!1)return g(n,{code:p.invalid_type,expected:m.promise,received:n.parsedType}),T;const r=n.parsedType===m.promise?n.data:Promise.resolve(n.data);return V(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Se.create=(t,e)=>new Se({type:t,typeName:x.ZodPromise,...A(e)});class Y extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const a=i.transform(r.data);return r.common.async?Promise.resolve(a).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const s={addIssue:a=>{g(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const a=o=>{const c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?T:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?T:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bt(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>bt(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);M.assertNever(i)}}Y.create=(t,e,n)=>new Y({schema:t,typeName:x.ZodEffects,effect:e,...A(n)});Y.createWithPreprocess=(t,e,n)=>new Y({schema:e,effect:{type:"preprocess",transform:t},typeName:x.ZodEffects,...A(n)});class G extends N{_parse(e){return this._getType(e)===m.undefined?V(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}G.create=(t,e)=>new G({innerType:t,typeName:x.ZodOptional,...A(e)});class ge extends N{_parse(e){return this._getType(e)===m.null?V(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ge.create=(t,e)=>new ge({innerType:t,typeName:x.ZodNullable,...A(e)});class et extends N{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===m.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}et.create=(t,e)=>new et({innerType:t,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...A(e)});class St extends N{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.innerType._parse({data:n.data,path:n.path,parent:n});return xt(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.defaultValue()})):{status:"valid",value:r.status==="valid"?r.value:this._def.defaultValue()}}removeDefault(){return this._def.innerType}}St.create=(t,e)=>new St({innerType:t,typeName:x.ZodCatch,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...A(e)});class Nt extends N{_parse(e){if(this._getType(e)!==m.nan){const r=this._getOrReturnCtx(e);return g(r,{code:p.invalid_type,expected:m.nan,received:r.parsedType}),T}return{status:"valid",value:e.data}}}Nt.create=t=>new Nt({typeName:x.ZodNaN,...A(t)});const Ys=Symbol("zod_brand");class Nr extends N{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ot extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?T:s.status==="dirty"?(n.dirty(),kr(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?T:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new ot({in:e,out:n,typeName:x.ZodPipeline})}}const Ar=(t,e={},n)=>t?ke.create().superRefine((r,i)=>{if(!t(r)){const s=typeof e=="function"?e(r):e,a=typeof s=="string"?{message:s}:s;i.addIssue({code:"custom",...a,fatal:n})}}):ke.create(),qs={object:O.lazycreate};var x;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(x||(x={}));const Gs=(t,e={message:`Input not instance of ${t.name}`})=>Ar(n=>n instanceof t,e,!0),Ir=ae.create,Mr=le.create,Qs=Nt.create,Xs=ze.create,Rr=He.create,ei=me.create,ti=Et.create,ni=Fe.create,ri=Je.create,si=ke.create,ii=pe.create,ai=oe.create,oi=Ct.create,ci=W.create,ui=O.create,li=O.strictCreate,di=We.create,fi=Dt.create,hi=Ye.create,pi=X.create,_i=qe.create,mi=kt.create,yi=ye.create,gi=Ee.create,vi=Ge.create,wi=Qe.create,bi=at.create,xi=Xe.create,Ei=Se.create,rr=Y.create,Ci=G.create,Ti=ge.create,ki=Y.createWithPreprocess,Si=ot.create,Ni=()=>Ir().optional(),Ai=()=>Mr().optional(),Ii=()=>Rr().optional(),Mi={string:t=>ae.create({...t,coerce:!0}),number:t=>le.create({...t,coerce:!0}),boolean:t=>He.create({...t,coerce:!0}),bigint:t=>ze.create({...t,coerce:!0}),date:t=>me.create({...t,coerce:!0})},Ri=T;var B=Object.freeze({__proto__:null,defaultErrorMap:Ke,setErrorMap:Vs,getErrorMap:vt,makeIssue:wt,EMPTY_PATH:Ks,addIssueToContext:g,ParseStatus:K,INVALID:T,DIRTY:kr,OK:V,isAborted:ln,isDirty:dn,isValid:bt,isAsync:xt,get util(){return M},ZodParsedType:m,getParsedType:ce,ZodType:N,ZodString:ae,ZodNumber:le,ZodBigInt:ze,ZodBoolean:He,ZodDate:me,ZodSymbol:Et,ZodUndefined:Fe,ZodNull:Je,ZodAny:ke,ZodUnknown:pe,ZodNever:oe,ZodVoid:Ct,ZodArray:W,get objectUtil(){return Tt},ZodObject:O,ZodUnion:We,ZodDiscriminatedUnion:Dt,ZodIntersection:Ye,ZodTuple:X,ZodRecord:qe,ZodMap:kt,ZodSet:ye,ZodFunction:Ee,ZodLazy:Ge,ZodLiteral:Qe,ZodEnum:at,ZodNativeEnum:Xe,ZodPromise:Se,ZodEffects:Y,ZodTransformer:Y,ZodOptional:G,ZodNullable:ge,ZodDefault:et,ZodCatch:St,ZodNaN:Nt,BRAND:Ys,ZodBranded:Nr,ZodPipeline:ot,custom:Ar,Schema:N,ZodSchema:N,late:qs,get ZodFirstPartyTypeKind(){return x},coerce:Mi,any:si,array:ci,bigint:Xs,boolean:Rr,date:ei,discriminatedUnion:fi,effect:rr,enum:bi,function:gi,instanceof:Gs,intersection:hi,lazy:vi,literal:wi,map:mi,nan:Qs,nativeEnum:xi,never:ai,null:ri,nullable:Ti,number:Mr,object:ui,oboolean:Ii,onumber:Ai,optional:Ci,ostring:Ni,pipeline:Si,preprocess:ki,promise:Ei,record:_i,set:yi,strictObject:li,string:Ir,symbol:ti,transformer:rr,tuple:pi,undefined:ni,union:di,unknown:ii,void:oi,NEVER:Ri,ZodIssueCode:p,quotelessJson:Us,ZodError:se});function $t(){throw new Error("Cycle detected")}function Rn(){if(Ce>1)Ce--;else{for(var t,e=!1;je!==void 0;){var n=je;for(je=void 0,hn++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Br(n))try{n.c()}catch(i){e||(t=i,e=!0)}n=r}}if(hn=0,Ce--,e)throw t}}var Z=void 0,je=void 0,Ce=0,hn=0,At=0;function Pr(t){if(Z!==void 0){var e=t.n;if(e===void 0||e.t!==Z)return e={i:0,S:t,p:Z.s,n:void 0,t:Z,e:void 0,x:void 0,r:e},Z.s!==void 0&&(Z.s.n=e),Z.s=e,t.n=e,32&Z.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Z.s,e.n=void 0,Z.s.n=e,Z.s=e),e}}function z(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}z.prototype.h=function(){return!0};z.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};z.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};z.prototype.subscribe=function(t){var e=this;return Zt(function(){var n=e.value,r=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=r}})};z.prototype.valueOf=function(){return this.value};z.prototype.toString=function(){return this.value+""};z.prototype.peek=function(){return this.v};Object.defineProperty(z.prototype,"value",{get:function(){var t=Pr(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){hn>100&&$t(),this.v=t,this.i++,At++,Ce++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Rn()}}}});function we(t){return new z(t)}function Br(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Lr(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function Or(t){for(var e=t.s,n=void 0;e!==void 0;){var r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}t.s=n}function be(t){z.call(this,void 0),this.x=t,this.s=void 0,this.g=At-1,this.f=4}(be.prototype=new z).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===At))return!0;if(this.g=At,this.f|=1,this.i>0&&!Br(this))return this.f&=-2,!0;var t=Z;try{Lr(this),Z=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return Z=t,Or(this),this.f&=-2,!0};be.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}z.prototype.S.call(this,t)};be.prototype.U=function(t){if(this.t!==void 0&&(z.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};be.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};be.prototype.peek=function(){if(this.h()||$t(),16&this.f)throw this.v;return this.v};Object.defineProperty(be.prototype,"value",{get:function(){1&this.f&&$t();var t=Pr(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Pi(t){return new be(t)}function Dr(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Ce++;var n=Z;Z=void 0;try{e()}catch(r){throw t.f&=-2,t.f|=8,Pn(t),r}finally{Z=n,Rn()}}}function Pn(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,Dr(t)}function Bi(t){if(Z!==this)throw new Error("Out-of-order effect");Or(this),Z=t,this.f&=-2,8&this.f&&Pn(this),Rn()}function ct(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}ct.prototype.c=function(){var t=this.S();try{!(8&this.f)&&this.x!==void 0&&(this.u=this.x())}finally{t()}};ct.prototype.S=function(){1&this.f&&$t(),this.f|=1,this.f&=-9,Dr(this),Lr(this),Ce++;var t=Z;return Z=this,Bi.bind(this,t)};ct.prototype.N=function(){2&this.f||(this.f|=2,this.o=je,je=this)};ct.prototype.d=function(){this.f|=8,1&this.f||Pn(this)};function Zt(t){var e=new ct(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var qt;function Le(t,e){C[t]=e.bind(null,C[t]||function(){})}function It(t){qt&&qt(),qt=t&&t.S()}function $r(t){var e=this,n=t.data,r=ve(n);r.value=n;var i=kn(function(){for(var s=e.__v;s=s.__;)if(s.__c){s.__c.__$f|=4;break}return e.__$u.c=function(){e.base.data=i.peek()},Pi(function(){var a=r.value.value;return a===0?0:a===!0?"":a||""})},[]);return i.value}$r.displayName="_st";Object.defineProperties(z.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:$r},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Le("__b",function(t,e){if(typeof e.type=="string"){var n,r=e.props;for(var i in r)if(i!=="children"){var s=r[i];s instanceof z&&(n||(e.__np=n={}),n[i]=s,r[i]=s.peek())}}t(e)});Le("__r",function(t,e){It();var n,r=e.__c;r&&(r.__$f&=-2,(n=r.__$u)===void 0&&(r.__$u=n=function(i){var s;return Zt(function(){s=this}),s.c=function(){r.__$f|=1,r.setState({})},s}())),It(n),t(e)});Le("__e",function(t,e,n,r){It(),t(e,n,r)});Le("diffed",function(t,e){It();var n;if(typeof e.type=="string"&&(n=e.__e)){var r=e.__np,i=e.props;if(r){var s=n.U;if(s)for(var a in s){var o=s[a];o!==void 0&&!(a in r)&&(o.d(),s[a]=void 0)}else n.U=s={};for(var c in r){var l=s[c],u=r[c];l===void 0?(l=Li(n,c,u,i),s[c]=l):l.o(u,i)}}}t(e)});function Li(t,e,n,r){var i=e in t&&t.ownerSVGElement===void 0,s=we(n);return{o:function(a,o){s.value=a,r=o},d:Zt(function(){var a=s.value.value;r[e]!==a&&(r[e]=a,i?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}Le("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var r=n.U;if(r){n.U=void 0;for(var i in r){var s=r[i];s&&s.d()}}}}else{var a=e.__c;if(a){var o=a.__$u;o&&(a.__$u=void 0,o.d())}}t(e)});Le("__h",function(t,e,n,r){r<3&&(e.__$f|=2),t(e,n,r)});Ze.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var r in e)return!0;for(var i in t)if(i!=="__source"&&t[i]!==this.props[i])return!0;for(var s in this.props)if(!(s in t))return!0;return!1};function ve(t){return kn(function(){return we(t)},[])}const Ne=t=>{const e=window.atob(decodeURIComponent(t)),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},jt=t=>encodeURIComponent(window.btoa(String.fromCharCode(...t))),Zr={name:"RSA-OAEP",hash:{name:"SHA-256"}},jr={name:"AES-GCM",length:256},Oi=async t=>jt(new Uint8Array(await crypto.subtle.exportKey("raw",t))),Ut=async t=>jt(new Uint8Array(await crypto.subtle.exportKey("spki",t))),Di=async t=>jt(new Uint8Array(await crypto.subtle.exportKey("pkcs8",t))),$i=t=>crypto.subtle.importKey("raw",Ne(t),jr,!0,["encrypt","decrypt"]),Mt=t=>crypto.subtle.importKey("spki",Ne(t),Zr,!0,["encrypt"]),Zi=t=>crypto.subtle.importKey("pkcs8",Ne(t),Zr,!0,["decrypt"]),ji=async(t,e,n)=>{const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:Ne(e)},t,Ne(n));return JSON.parse(String.fromCharCode(...new Uint8Array(r)))},Ui=async(t,e)=>{const n=await crypto.subtle.encrypt({name:"RSA-OAEP"},t,new TextEncoder().encode(JSON.stringify(e)));return jt(new Uint8Array(n))},Vi=async(t,e)=>{const n=await crypto.subtle.decrypt({name:"RSA-OAEP"},t,Ne(e));return JSON.parse(String.fromCharCode(...new Uint8Array(n)))};B.object({content:B.string(),sender:B.string(),timestamp:B.number()});const U=we(void 0),J=we(!0),Ur=we(!1),he=we(void 0),tt=we([]),Rt="identity",Ki=t=>new Promise(e=>{if(t.length===0)return e(void 0);const n=new FileReader;n.onloadend=async()=>{const r=await Vr(n.result);return e(r||void 0)},n.readAsText(t[0])}),zi=async({publicKey:t,privateKey:e,displayName:n,avatar:r})=>JSON.stringify({publicKey:await Ut(t),privateKey:await Di(e),displayName:n,avatar:r}),Vr=async t=>{const e=B.object({publicKey:B.string(),privateKey:B.string(),displayName:B.string(),avatar:B.string().optional()}).safeParse(JSON.parse(t));if(e.success)return{publicKey:await Mt(e.data.publicKey),privateKey:await Zi(e.data.privateKey),displayName:e.data.displayName}},Hi=()=>Vr(localStorage.getItem(Rt)||'""');Zt(async()=>{U.value&&localStorage.setItem(Rt,await zi(U.value))});const Fi=(t,e)=>e.some(n=>t instanceof n);let sr,ir;function Ji(){return sr||(sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wi(){return ir||(ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kr=new WeakMap,pn=new WeakMap,zr=new WeakMap,Gt=new WeakMap,Bn=new WeakMap;function Yi(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ie(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Kr.set(n,t)}).catch(()=>{}),Bn.set(e,t),e}function qi(t){if(pn.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});pn.set(t,e)}let _n={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zr.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ie(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gi(t){_n=t(_n)}function Qi(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qt(this),e,...n);return zr.set(r,e.sort?e.sort():[e]),ie(r)}:Wi().includes(t)?function(...e){return t.apply(Qt(this),e),ie(Kr.get(this))}:function(...e){return ie(t.apply(Qt(this),e))}}function Xi(t){return typeof t=="function"?Qi(t):(t instanceof IDBTransaction&&qi(t),Fi(t,Ji())?new Proxy(t,_n):t)}function ie(t){if(t instanceof IDBRequest)return Yi(t);if(Gt.has(t))return Gt.get(t);const e=Xi(t);return e!==t&&(Gt.set(t,e),Bn.set(e,t)),e}const Qt=t=>Bn.get(t);function ea(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ie(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ie(a.result),c.oldVersion,c.newVersion,ie(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}function ta(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),ie(n).then(()=>{})}const na=["get","getKey","getAll","getAllKeys","count"],ra=["put","add","delete","clear"],Xt=new Map;function ar(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xt.get(e))return Xt.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ra.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||na.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(o.shift())),(await Promise.all([l[n](...o),i&&c.done]))[0]};return Xt.set(e,s),s}Gi(t=>({...t,get:(e,n,r)=>ar(e,n)||t.get(e,n,r),has:(e,n)=>!!ar(e,n)||t.has(e,n)}));let j;const Te=()=>ea("noti-db",1,{upgrade(t){t.createObjectStore("chats",{keyPath:"serializedPublicKey"}),t.createObjectStore("messages",{keyPath:"sender"}).createIndex("timestamp","timestamp"),t.createObjectStore("keys",{keyPath:"serializedPublicKey"})}}),sa=async()=>{j&&(j.close(),j=void 0),await ta("noti-db")};class Ln{static async put(e,n){return j||(j=await Te()),await j.put("keys",{serializedPublicKey:e,symmetricKey:n})}static async get(e){j||(j=await Te());const n=await j.get("keys",e);if(n)return n.symmetricKey}}class de{static async put(e){return j||(j=await Te()),await j.put("chats",e)}static async get(e){return j||(j=await Te()),await j.get("chats",e)}static async list(){return j||(j=await Te()),await j.getAll("chats")}}const ia=async t=>(j||(j=await Te()),await j.getAll("messages",t)),aa=B.object({type:B.literal("CREATE_MESSAGE")}),oa=B.object({type:B.literal("CREATE_CHAT"),symmetricKey:B.string(),displayName:B.string(),avatar:B.string().optional()}),ca=B.object({type:B.literal("ACCEPT_CHAT"),avatar:B.string().optional()}),ua=B.object({iv:B.string().optional(),publicKey:B.string(),ciphertext:B.string()}),la=async(t,e)=>{const n=JSON.stringify(e),r=`https://noti-relay.deno.dev?id=${t}`,i=await fetch(r,{method:"POST",body:n});if(!i.ok)throw new Error(`Fetch failed with status: ${i.status}, ${await i.text()}`)},da=async(t,e)=>{const n=await Mt(t),r=await crypto.subtle.generateKey(jr,!0,["encrypt","decrypt"]);if(await Ln.put(t,r),!U.value)throw new Error("no identity");const i={publicKey:await Mt(t),serializedPublicKey:t,displayName:e};await de.put(i),tt.value=await de.list();const s=await Oi(r),a={type:"CREATE_CHAT",displayName:U.value.displayName,symmetricKey:s},o=await Ui(n,a);await la(t,{publicKey:await Ut(U.value.publicKey),ciphertext:o}),he.value||(he.value=i)},fa=async(t,e)=>{const n=await $i(e.symmetricKey);await Ln.put(t,n);const r={publicKey:await Mt(t),serializedPublicKey:t,displayName:e.displayName};await de.put(r),tt.value=await de.list()},ha=async t=>{},pa=()=>{},_a=()=>{},ma=async t=>{const e=ua.safeParse(t);if(!e.success)return;let n;if(e.data.iv){const i=await de.get(e.data.publicKey),s=await Ln.get(e.data.publicKey);if(!i||!s)return;n=await ji(s,e.data.iv,e.data.ciphertext)}else{if(!U.value)throw new Error("no identity");n=await Vi(U.value.privateKey,e.data.ciphertext)}console.log(n);const r=B.discriminatedUnion("type",[oa,ca,aa,B.object({type:B.literal("ACCEPT_MESSAGE"),content:B.string()})]).safeParse(n);if(r.success)switch(r.data.type){case"CREATE_MESSAGE":return pa();case"ACCEPT_MESSAGE":return _a();case"CREATE_CHAT":return fa(e.data.publicKey,r.data)}};var ya=0;function h(t,e,n,r,i){var s,a,o={};for(a in e)a=="ref"?s=e[a]:o[a]=e[a];var c={type:t,props:o,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ya,__source:i,__self:r};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)o[a]===void 0&&(o[a]=s[a]);return C.vnode&&C.vnode(c),c}const On=({alt:t,src:e,size:n=64})=>t?h("img",{width:n,height:n,alt:t,src:e||`https://ui-avatars.com/api/?name=${t}&rounded=true&format=svg&background=random`}):null,Ae=t=>h("div",{className:"w-full h-full bg-black flex justify-center text-white font-mono overflow-hidden",children:h("div",{className:"max-w-md flex flex-col justify-center items-center flex-1",children:t.children})}),ga=({publicKey:t="",displayName:e=""})=>{var a,o,c;const[n,r]=Cr(),i=ve([]),s=ve("");return _e(()=>{(async()=>{const u=await de.get(t);if(u){he.value=u;return}try{await da(t,e)}catch{r("/")}})()},[]),_e(()=>{(async()=>{i.value=await ia(t)})()},[he.value]),h(Ae,{children:[h("div",{className:"flex items-center justify-between p-3 border-b border-gray-500 w-full",children:[h("div",{className:"flex items-center",children:[h(On,{alt:((a=he.value)==null?void 0:a.displayName)||"User",src:(o=he.value)==null?void 0:o.avatar}),h("h1",{className:"pl-4 font-bold",children:((c=he.value)==null?void 0:c.displayName)||"Loading..."})]}),h(Mn,{href:"/",children:h("i",{className:"fa-solid fa-bars text-3xl p-3 cursor-pointer"})})]}),h("div",{className:"flex-1 flex flex-col",children:i.value.map(l=>h("span",{className:"bg-blue-500 rounded-2xl p-2 m-2",children:l}))}),h("div",{className:"border-gray-500 flex items-center border-t py-4 px-2 w-full",children:[h("textarea",{className:"bg-black border border-white focus:outline-none w-full px-3 py-2 rounded-[2rem] resize-none overflow-hidden",placeholder:"Type your message...",autofocus:!0,rows:1,onChange:({target:l})=>{l instanceof HTMLTextAreaElement&&(s.value=l.value)}}),h("button",{type:"button",onClick:async()=>{await ha(s.value),s.value=""},children:h("i",{className:"fa-solid fa-paper-plane py-2 text-2xl pr-3 pl-6 cursor-pointer"})})]})]})};var va=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Hr={},F={};let Dn;const wa=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];F.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};F.getSymbolTotalCodewords=function(e){return wa[e]};F.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};F.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Dn=e};F.isKanjiModeEnabled=function(){return typeof Dn<"u"};F.toSJIS=function(e){return Dn(e)};var Vt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Vt);function Fr(){this.buffer=[],this.length=0}Fr.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ba=Fr;function ut(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}ut.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};ut.prototype.get=function(t,e){return this.data[t*this.size+e]};ut.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};ut.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var xa=ut,Jr={};(function(t){const e=F.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let c=1;c<i-1;c++)o[c]=o[c-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let o=0;o<a;o++)for(let c=0;c<a;c++)o===0&&c===0||o===0&&c===a-1||o===a-1&&c===0||i.push([s[o],s[c]]);return i}})(Jr);var Wr={};const Ea=F.getSymbolSize,or=7;Wr.getPositions=function(e){const n=Ea(e);return[[0,0],[n-or,0],[0,n-or]]};var Yr={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,c=0,l=null,u=null;for(let y=0;y<s;y++){o=c=0,l=u=null;for(let f=0;f<s;f++){let d=i.get(y,f);d===l?o++:(o>=5&&(a+=e.N1+(o-5)),l=d,o=1),d=i.get(f,y),d===u?c++:(c>=5&&(a+=e.N1+(c-5)),u=d,c=1)}o>=5&&(a+=e.N1+(o-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let c=0;c<s-1;c++){const l=i.get(o,c)+i.get(o,c+1)+i.get(o+1,c)+i.get(o+1,c+1);(l===4||l===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,c=0;for(let l=0;l<s;l++){o=c=0;for(let u=0;u<s;u++)o=o<<1&2047|i.get(l,u),u>=10&&(o===1488||o===93)&&a++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let c=0;c<a;c++)s.isReserved(c,o)||s.xor(c,o,n(i,c,o))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let o=0,c=1/0;for(let l=0;l<a;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,o=l)}return o}})(Yr);var Kt={};const ue=Vt,lt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Kt.getBlocksCount=function(e,n){switch(n){case ue.L:return lt[(e-1)*4+0];case ue.M:return lt[(e-1)*4+1];case ue.Q:return lt[(e-1)*4+2];case ue.H:return lt[(e-1)*4+3];default:return}};Kt.getTotalCodewordsCount=function(e,n){switch(n){case ue.L:return dt[(e-1)*4+0];case ue.M:return dt[(e-1)*4+1];case ue.Q:return dt[(e-1)*4+2];case ue.H:return dt[(e-1)*4+3];default:return}};var qr={},zt={};const Ue=new Uint8Array(512),Pt=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Ue[n]=e,Pt[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Ue[n]=Ue[n-255]})();zt.log=function(e){if(e<1)throw new Error("log("+e+")");return Pt[e]};zt.exp=function(e){return Ue[e]};zt.mul=function(e,n){return e===0||n===0?0:Ue[Pt[e]+Pt[n]]};(function(t){const e=zt;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(r[a],i[o]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(qr);const Gr=qr;function $n(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}$n.prototype.initialize=function(e){this.degree=e,this.genPoly=Gr.generateECPolynomial(this.degree)};$n.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Gr.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var Ca=$n,Qr={},fe={},Zn={};Zn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ee={};const Xr="[0-9]+",Ta="[A-Z $%*+\\-./:]+";let nt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";nt=nt.replace(/u/g,"\\u");const ka="(?:(?![A-Z0-9 $%*+\\-./:]|"+nt+`)(?:.|[\r
]))+`;ee.KANJI=new RegExp(nt,"g");ee.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ee.BYTE=new RegExp(ka,"g");ee.NUMERIC=new RegExp(Xr,"g");ee.ALPHANUMERIC=new RegExp(Ta,"g");const Sa=new RegExp("^"+nt+"$"),Na=new RegExp("^"+Xr+"$"),Aa=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ee.testKanji=function(e){return Sa.test(e)};ee.testNumeric=function(e){return Na.test(e)};ee.testAlphanumeric=function(e){return Aa.test(e)};(function(t){const e=Zn,n=ee;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(fe);(function(t){const e=F,n=Kt,r=Vt,i=fe,s=Zn,a=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,o=e.getBCHDigit(a);function c(f,d,_){for(let k=1;k<=40;k++)if(d<=t.getCapacity(k,_,f))return k}function l(f,d){return i.getCharCountIndicator(f,d)+4}function u(f,d){let _=0;return f.forEach(function(k){const S=l(k.mode,d);_+=S+k.getBitsLength()}),_}function y(f,d){for(let _=1;_<=40;_++)if(u(f,_)<=t.getCapacity(_,d,i.MIXED))return _}t.from=function(d,_){return s.isValid(d)?parseInt(d,10):_},t.getCapacity=function(d,_,k){if(!s.isValid(d))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const S=e.getSymbolTotalCodewords(d),v=n.getTotalCodewordsCount(d,_),E=(S-v)*8;if(k===i.MIXED)return E;const b=E-l(k,d);switch(k){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(d,_){let k;const S=r.from(_,r.M);if(Array.isArray(d)){if(d.length>1)return y(d,S);if(d.length===0)return 1;k=d[0]}else k=d;return c(k.mode,k.getLength(),S)},t.getEncodedBits=function(d){if(!s.isValid(d)||d<7)throw new Error("Invalid QR Code version");let _=d<<12;for(;e.getBCHDigit(_)-o>=0;)_^=a<<e.getBCHDigit(_)-o;return d<<12|_}})(Qr);var es={};const mn=F,ts=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Ia=1<<14|1<<12|1<<10|1<<4|1<<1,cr=mn.getBCHDigit(ts);es.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;mn.getBCHDigit(i)-cr>=0;)i^=ts<<mn.getBCHDigit(i)-cr;return(r<<10|i)^Ia};var ns={};const Ma=fe;function Ie(t){this.mode=Ma.NUMERIC,this.data=t.toString()}Ie.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ie.prototype.getLength=function(){return this.data.length};Ie.prototype.getBitsLength=function(){return Ie.getBitsLength(this.data.length)};Ie.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var Ra=Ie;const Pa=fe,en=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Me(t){this.mode=Pa.ALPHANUMERIC,this.data=t}Me.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Me.prototype.getLength=function(){return this.data.length};Me.prototype.getBitsLength=function(){return Me.getBitsLength(this.data.length)};Me.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=en.indexOf(this.data[n])*45;r+=en.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(en.indexOf(this.data[n]),6)};var Ba=Me,La=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var a=e.charCodeAt(i+1);a>=56320&&a<=57343&&(s=(s-55296)*1024+a-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Oa=La,Da=fe;function Re(t){this.mode=Da.BYTE,typeof t=="string"&&(t=Oa(t)),this.data=new Uint8Array(t)}Re.getBitsLength=function(e){return e*8};Re.prototype.getLength=function(){return this.data.length};Re.prototype.getBitsLength=function(){return Re.getBitsLength(this.data.length)};Re.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var $a=Re;const Za=fe,ja=F;function Pe(t){this.mode=Za.KANJI,this.data=t}Pe.getBitsLength=function(e){return e*13};Pe.prototype.getLength=function(){return this.data.length};Pe.prototype.getBitsLength=function(){return Pe.getBitsLength(this.data.length)};Pe.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=ja.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Ua=Pe,yn={},Va={get exports(){return yn},set exports(t){yn=t}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var c,l,u,y,f,d,_,k,S;!o.empty();){c=o.pop(),l=c.value,y=c.cost,f=n[l]||{};for(u in f)f.hasOwnProperty(u)&&(d=f[u],_=y+d,k=a[u],S=typeof a[u]>"u",(S||k>_)&&(a[u]=_,o.push(u,_),s[u]=l))}if(typeof i<"u"&&typeof a[i]>"u"){var v=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Va);(function(t){const e=fe,n=Ra,r=Ba,i=$a,s=Ua,a=ee,o=F,c=yn;function l(v){return unescape(encodeURIComponent(v)).length}function u(v,E,b){const w=[];let R;for(;(R=v.exec(b))!==null;)w.push({data:R[0],index:R.index,mode:E,length:R[0].length});return w}function y(v){const E=u(a.NUMERIC,e.NUMERIC,v),b=u(a.ALPHANUMERIC,e.ALPHANUMERIC,v);let w,R;return o.isKanjiModeEnabled()?(w=u(a.BYTE,e.BYTE,v),R=u(a.KANJI,e.KANJI,v)):(w=u(a.BYTE_KANJI,e.BYTE,v),R=[]),E.concat(b,w,R).sort(function(D,L){return D.index-L.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function f(v,E){switch(E){case e.NUMERIC:return n.getBitsLength(v);case e.ALPHANUMERIC:return r.getBitsLength(v);case e.KANJI:return s.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function d(v){return v.reduce(function(E,b){const w=E.length-1>=0?E[E.length-1]:null;return w&&w.mode===b.mode?(E[E.length-1].data+=b.data,E):(E.push(b),E)},[])}function _(v){const E=[];for(let b=0;b<v.length;b++){const w=v[b];switch(w.mode){case e.NUMERIC:E.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:E.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:E.push([w,{data:w.data,mode:e.BYTE,length:l(w.data)}]);break;case e.BYTE:E.push([{data:w.data,mode:e.BYTE,length:l(w.data)}])}}return E}function k(v,E){const b={},w={start:{}};let R=["start"];for(let P=0;P<v.length;P++){const D=v[P],L=[];for(let H=0;H<D.length;H++){const q=D[H],Oe=""+P+H;L.push(Oe),b[Oe]={node:q,lastCount:0},w[Oe]={};for(let Ft=0;Ft<R.length;Ft++){const te=R[Ft];b[te]&&b[te].node.mode===q.mode?(w[te][Oe]=f(b[te].lastCount+q.length,q.mode)-f(b[te].lastCount,q.mode),b[te].lastCount+=q.length):(b[te]&&(b[te].lastCount=q.length),w[te][Oe]=f(q.length,q.mode)+4+e.getCharCountIndicator(q.mode,E))}}R=L}for(let P=0;P<R.length;P++)w[R[P]].end=0;return{map:w,table:b}}function S(v,E){let b;const w=e.getBestModeForData(v);if(b=e.from(E,w),b!==e.BYTE&&b.bit<w.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(w));switch(b===e.KANJI&&!o.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(v);case e.ALPHANUMERIC:return new r(v);case e.KANJI:return new s(v);case e.BYTE:return new i(v)}}t.fromArray=function(E){return E.reduce(function(b,w){return typeof w=="string"?b.push(S(w,null)):w.data&&b.push(S(w.data,w.mode)),b},[])},t.fromString=function(E,b){const w=y(E,o.isKanjiModeEnabled()),R=_(w),P=k(R,b),D=c.find_path(P.map,"start","end"),L=[];for(let H=1;H<D.length-1;H++)L.push(P.table[D[H]].node);return t.fromArray(d(L))},t.rawSplit=function(E){return t.fromArray(y(E,o.isKanjiModeEnabled()))}})(ns);const Ht=F,tn=Vt,Ka=ba,za=xa,Ha=Jr,Fa=Wr,gn=Yr,vn=Kt,Ja=Ca,Bt=Qr,Wa=es,Ya=fe,nn=ns;function qa(t,e){const n=t.size,r=Fa.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],a=r[i][1];for(let o=-1;o<=7;o++)if(!(s+o<=-1||n<=s+o))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?t.set(s+o,a+c,!0,!0):t.set(s+o,a+c,!1,!0))}}function Ga(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Qa(t,e){const n=Ha.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let a=-2;a<=2;a++)for(let o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?t.set(i+a,s+o,!0,!0):t.set(i+a,s+o,!1,!0)}}function Xa(t,e){const n=t.size,r=Bt.getEncodedBits(e);let i,s,a;for(let o=0;o<18;o++)i=Math.floor(o/3),s=o%3+n-8-3,a=(r>>o&1)===1,t.set(i,s,a,!0),t.set(s,i,a,!0)}function rn(t,e,n){const r=t.size,i=Wa.getEncodedBits(e,n);let s,a;for(s=0;s<15;s++)a=(i>>s&1)===1,s<6?t.set(s,8,a,!0):s<8?t.set(s+1,8,a,!0):t.set(r-15+s,8,a,!0),s<8?t.set(8,r-s-1,a,!0):s<9?t.set(8,15-s-1+1,a,!0):t.set(8,15-s-1,a,!0);t.set(r-8,8,1,!0)}function eo(t,e){const n=t.size;let r=-1,i=n-1,s=7,a=0;for(let o=n-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,o-c)){let l=!1;a<e.length&&(l=(e[a]>>>s&1)===1),t.set(i,o-c,l),s--,s===-1&&(a++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function to(t,e,n){const r=new Ka;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Ya.getCharCountIndicator(c.mode,t)),c.write(r)});const i=Ht.getSymbolTotalCodewords(t),s=vn.getTotalCodewordsCount(t,e),a=(i-s)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const o=(a-r.getLengthInBits())/8;for(let c=0;c<o;c++)r.put(c%2?17:236,8);return no(r,t,e)}function no(t,e,n){const r=Ht.getSymbolTotalCodewords(e),i=vn.getTotalCodewordsCount(e,n),s=r-i,a=vn.getBlocksCount(e,n),o=r%a,c=a-o,l=Math.floor(r/a),u=Math.floor(s/a),y=u+1,f=l-u,d=new Ja(f);let _=0;const k=new Array(a),S=new Array(a);let v=0;const E=new Uint8Array(t.buffer);for(let D=0;D<a;D++){const L=D<c?u:y;k[D]=E.slice(_,_+L),S[D]=d.encode(k[D]),_+=L,v=Math.max(v,L)}const b=new Uint8Array(r);let w=0,R,P;for(R=0;R<v;R++)for(P=0;P<a;P++)R<k[P].length&&(b[w++]=k[P][R]);for(R=0;R<f;R++)for(P=0;P<a;P++)b[w++]=S[P][R];return b}function ro(t,e,n,r){let i;if(Array.isArray(t))i=nn.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=nn.rawSplit(t);l=Bt.getBestVersionForData(u,n)}i=nn.fromString(t,l||40)}else throw new Error("Invalid data");const s=Bt.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const a=to(e,n,i),o=Ht.getSymbolSize(e),c=new za(o);return qa(c,e),Ga(c),Qa(c,e),rn(c,n,0),e>=7&&Xa(c,e),eo(c,a),isNaN(r)&&(r=gn.getBestMask(c,rn.bind(null,c,n))),gn.applyMask(r,c),rn(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Hr.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=tn.M,i,s;return typeof n<"u"&&(r=tn.from(n.errorCorrectionLevel,tn.M),i=Bt.from(n.version),s=gn.from(n.maskPattern),n.toSJISFunc&&Ht.setToSJISFunction(n.toSJISFunc)),ro(e,i,r,s)};var rs={},jn={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,o=i.modules.data,c=t.getScale(a,s),l=Math.floor((a+s.margin*2)*c),u=s.margin*c,y=[s.color.light,s.color.dark];for(let f=0;f<l;f++)for(let d=0;d<l;d++){let _=(f*l+d)*4,k=s.color.light;if(f>=u&&d>=u&&f<l-u&&d<l-u){const S=Math.floor((f-u)/c),v=Math.floor((d-u)/c);k=y[o[S*a+v]?1:0]}r[_++]=k.r,r[_++]=k.g,r[_++]=k.b,r[_]=k.a}}})(jn);(function(t){const e=jn;function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,o){let c=o,l=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),y=l.getContext("2d"),f=y.createImageData(u,u);return e.qrToImageData(f.data,s,c),n(y,l,u),y.putImageData(f,0,0),l},t.renderToDataURL=function(s,a,o){let c=o;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const l=t.render(s,a,c),u=c.type||"image/png",y=c.rendererOpts||{};return l.toDataURL(u,y.quality)}})(rs);var ss={};const so=jn;function ur(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function sn(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function io(t,e,n){let r="",i=0,s=!1,a=0;for(let o=0;o<t.length;o++){const c=Math.floor(o%e),l=Math.floor(o/e);!c&&!s&&(s=!0),t[o]?(a++,o>0&&c>0&&t[o-1]||(r+=s?sn("M",c+n,.5+l+n):sn("m",i,0),i=0,s=!1),c+1<e&&t[o+1]||(r+=sn("h",a),a=0)):i++}return r}ss.render=function(e,n,r){const i=so.getOptions(n),s=e.modules.size,a=e.modules.data,o=s+i.margin*2,c=i.color.light.a?"<path "+ur(i.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",l="<path "+ur(i.color.dark,"stroke")+' d="'+io(a,s,i.margin)+'"/>',u='viewBox="0 0 '+o+" "+o+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,f),f};const ao=va,wn=Hr,is=rs,oo=ss;function Un(t,e,n,r,i){const s=[].slice.call(arguments,1),a=s.length,o=typeof s[a-1]=="function";if(!o&&!ao())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(i=n,n=e,e=r=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=r=void 0):a===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=wn.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=wn.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}wn.create;Un.bind(null,is.render);Un.bind(null,is.renderToDataURL);var co=Un.bind(null,function(t,e,n){return oo.render(t,n)});const uo=({text:t,className:e})=>{const n=ls();return _e(()=>{co(t,{type:"svg",errorCorrectionLevel:"low",margin:1},(r,i)=>{if(i===void 0){n.current.innerHTML="";return}n.current.innerHTML=i})},[t]),h("div",{ref:n,className:e})},lo=()=>{const t=ve("");return _e(()=>{(async()=>{U.value&&(t.value=`${location.protocol}//${location.host}/chat/${U.value.displayName}/${await Ut(U.value.publicKey)}`)})()},[U.value]),h(Ae,{children:[h("h1",{className:"text-center m-1 text-xl",children:"Create a new conversation"}),h("div",{className:"w-full overflow-y-auto",children:[h("p",{className:"m-2 text-justify",children:"Show this QR code to the person you want to chat with or send them the link provided below via a trusted medium. Generally, you should never click on links that you do not trust."}),h(uo,{text:t.value,className:"p-3 w-full"}),h("textarea",{title:t.value,className:"w-full focus:outline-none bg-slate-800 p-3 rounded border-white border resize-none",rows:3,disabled:!0,children:t.value})]})]})},fo=({toggle:t,enabled:e})=>h("button",{title:"Show profile data",type:"button",className:"focus:outline-none p-2",onClick:t,children:h("i",{className:`text-3xl fa-solid ${e?"fa-chevron-up":"fa-chevron-down"}`})}),an=({onClick:t,children:e})=>h("button",{type:"button",className:"font-bold border rounded border-white p-1 m-2",onClick:t,children:e}),ho=({enabled:t,onEdit:e,onSave:n,onSignOut:r})=>{var i,s;return h("div",{className:`text-white p-2 w-full ${t?"":"hidden"}`,children:[h("div",{className:"flex justify-evenly items-center p-2",children:[h("div",{children:h(On,{alt:((i=U.value)==null?void 0:i.displayName)||""})}),h("span",{children:["Username: ",(s=U.value)==null?void 0:s.displayName]})]}),h("div",{className:"flex flex-col justify-evenly py-3",children:[h(an,{onClick:e,children:["Edit ",h("i",{className:"fa-regular fa-pen-to-square"})]}),h(an,{onClick:r,children:["Sign out ",h("i",{className:"fa-solid fa-right-from-bracket"})]}),h(an,{onClick:n,children:["Save identity ",h("i",{className:"fa-solid fa-download"})]})]})]})},po=({chats:t})=>h("div",{className:"flex-1 w-full p-3",children:t.map((e,n)=>h(Mn,{className:"cursor-pointer",href:`${location.protocol}//${location.host}/chat/${e.displayName}/${e.serializedPublicKey}`,children:h("div",{className:`flex items-center justify-between border border-gray-500 rounded font-bold py-4 px-8 ${n===t.length-1?"":"mb-3"}`,children:h("div",{className:"flex items-center",children:[h(On,{alt:e.displayName}),h("span",{className:"px-4 text-xl",children:e.displayName})]})})}))}),_o=()=>{const t=ve(!1);return h(Ae,{children:[h("div",{class:"flex items-center justify-between px-5 py-3 w-full",children:[h("h1",{class:"font-bold text-2xl w-full",children:"Conversations"}),h(fo,{toggle:()=>t.value=!t.value,enabled:t.value})]}),h(ho,{enabled:t.value,onEdit:()=>console.log("edit"),onSignOut:async()=>{localStorage.removeItem(Rt),U.value=void 0,await sa(),tt.value=await de.list()},onSave:()=>{const e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(localStorage.getItem(Rt)||"")}`),e.setAttribute("download",`${crypto.randomUUID()}.json`),e.click()}}),h("div",{className:"w-full text-center",children:h("span",{children:["Status: ",Ur.value?"Connected":"Disconnected"]})}),h(po,{chats:tt.value}),h(Mn,{href:"/create",children:h("div",{className:"absolute bg-blue-500 w-20 h-20 flex justify-center items-center rounded-[50%] cursor-pointer right-10 bottom-10",children:h("i",{className:"fa-solid fa-plus text-3xl"})})})]})},as=()=>h("div",{className:"text-white flex-1 flex justify-center items-center",children:h("i",{className:"fa-solid fa-circle-notch loading text-5xl"})}),mo=()=>{const t=ve(""),e=ve("");return J.value?h(Ae,{children:h(as,{})}):h(Ae,{children:h("div",{className:"max-w-sm border border-white rounded p-8 my-2 mx-auto flex flex-col",children:[h("h1",{className:"text-center m-1 text-5xl",children:"Noti"}),h("h2",{className:"text-center m-1",children:["Sign in ",h("i",{className:"fa-solid fa-rocket"})]}),e.value!==""?h("div",{class:"border-2 font-bold text-xs leading-5 rounded text-red-800 bg-red-300 border-red-800 my-2 p-2",children:["Validation error:",h("br",{}),e.value]}):null,h("form",{onSubmit:async n=>{if(J.value=!0,n.preventDefault(),t.value===""){e.value="You must provide a username.",J.value=!1;return}const{publicKey:r,privateKey:i}=await crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]);U.value={publicKey:r,privateKey:i,displayName:t.value},J.value=!1},children:[h("label",{for:"username",children:"New username:"}),h("input",{type:"text",name:"username",title:"username",className:"bg-black border border-white rounded outline-none p-1 my-1 w-full",onInput:({target:n})=>{n instanceof HTMLInputElement&&(t.value=n.value)},value:t.value,autofocus:!0}),h("button",{type:"submit",className:"font-bold border rounded border-white p-1 my-1 w-full",children:"Generate new identity"})]}),h("span",{className:"text-gray-300 mx-auto",children:"- OR -"}),h("label",{className:"font-bold border rounded border-white p-1 my-1 text-center cursor-pointer",children:[h("input",{title:"Import indentity",type:"file",className:"hidden",accept:".json",onChange:async({currentTarget:n})=>{if(J.value=!0,n.files){const r=await Ki(n.files);if(!r){e.value="Failed to import identity. Choose an exported json file that contains your identity.",J.value=!1;return}U.value=r}J.value=!1}}),"Import indentity"]})]})})},bn=128,yo=bn*Math.pow(2,7);class go{constructor(e){ne(this,"timeoutId");ne(this,"ws");ne(this,"isConnected");ne(this,"previousIsConnected");ne(this,"retryDelay");ne(this,"onStateChange");ne(this,"onMessage");ne(this,"shouldBeOpen");this.isConnected=!1,this.previousIsConnected=!1,this.retryDelay=bn,this.shouldBeOpen=!1,e==null||e.addEventListener("abort",()=>{var n;this.shouldBeOpen=!1,(n=this.ws)==null||n.close()})}connect(e,n,r){this.shouldBeOpen=!0,this.ws=this._connect(e),this.onStateChange=n,this.onMessage=r}setState(e){var n;this.previousIsConnected=this.isConnected,this.isConnected=e,this.previousIsConnected!==this.isConnected&&((n=this.onStateChange)==null||n.call(this,this.isConnected))}_connect(e){clearTimeout(this.timeoutId);const n=new WebSocket(e);return n.onopen=()=>{this.setState(!0),this.retryDelay=bn},n.onmessage=r=>{var i;(i=this.onMessage)==null||i.call(this,JSON.parse(r.data))},n.onclose=()=>{this.setState(!1),this.shouldBeOpen&&(this.previousIsConnected===!1&&this.isConnected===!1&&(this.retryDelay*=2),this.timeoutId=window.setTimeout(()=>this._connect(e),Math.min(yo,this.retryDelay)))},this.ws=n,n}send(e){var n;(n=this.ws)==null||n.send(JSON.stringify(e))}}const vo=()=>(_e(()=>{(async()=>{J.value=!0;const e=await Hi();if(!e){J.value=!1;return}U.value=e,tt.value=await de.list(),J.value=!1})()},[]),_e(()=>{const t=new AbortController;return(async()=>{const n=new go(t.signal);if(!U.value){t.abort();return}n.connect(`wss://noti-relay.deno.dev?id=${await Ut(U.value.publicKey)}`,r=>Ur.value=r,ma)})(),()=>t.abort()},[U.value]),J.value?h(Ae,{children:h(as,{})}):U.value?h(Zs,{children:[h(Yt,{path:"/chat/:displayName/:publicKey",children:({displayName:t,publicKey:e})=>h(ga,{publicKey:e,displayName:t})}),h(Yt,{path:"/create",component:lo}),h(Yt,{path:"/",component:_o}),h(js,{to:"/"})]}):h(mo,{}));ps(h(vo,{}),document.getElementById("app"));
