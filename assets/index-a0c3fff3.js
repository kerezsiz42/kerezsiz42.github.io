var Ur=Object.defineProperty;var jr=(t,e,n)=>e in t?Ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>(jr(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ke,T,Fn,un,Ne,Tn,Kn,at={},Jn=[],Vr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ee(t,e){for(var n in e)t[n]=e[n];return t}function Wn(t){var e=t.parentNode;e&&e.removeChild(t)}function Nt(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Ke.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Se(t,o,r,i,null)}function Se(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Fn};return i==null&&T.vnode!=null&&T.vnode(s),s}function zr(){return{current:null}}function Je(t){return t.children}function Ie(t,e){this.props=t,this.context=e}function Me(t,e){if(e==null)return t.__?Me(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Me(t):null}function Yn(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Yn(t)}}function Wt(t){(!t.__d&&(t.__d=!0)&&Ne.push(t)&&!ct.__r++||Tn!==T.debounceRendering)&&((Tn=T.debounceRendering)||setTimeout)(ct)}function ct(){for(var t;ct.__r=Ne.length;)t=Ne.sort(function(e,n){return e.__v.__b-n.__v.__b}),Ne=[],t.some(function(e){var n,r,i,s,o,a;e.__d&&(o=(s=(n=e).__v).__e,(a=n.__P)&&(r=[],(i=ee({},s)).__v=s.__v+1,ln(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Me(s),s.__h),Xn(r,s),s.__e!=o&&Yn(s)))})}function qn(t,e,n,r,i,s,o,a,c,l){var u,m,f,d,p,E,N,v=r&&r.__k||Jn,k=v.length;for(n.__k=[],u=0;u<e.length;u++)if((d=n.__k[u]=(d=e[u])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Se(null,d,null,null,d):Array.isArray(d)?Se(Je,{children:d},null,null,null):d.__b>0?Se(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=n,d.__b=n.__b+1,(f=v[u])===null||f&&d.key==f.key&&d.type===f.type)v[u]=void 0;else for(m=0;m<k;m++){if((f=v[m])&&d.key==f.key&&d.type===f.type){v[m]=void 0;break}f=null}ln(t,d,f=f||at,i,s,o,a,c,l),p=d.__e,(m=d.ref)&&f.ref!=m&&(N||(N=[]),f.ref&&N.push(f.ref,null,d),N.push(m,d.__c||p,d)),p!=null?(E==null&&(E=p),typeof d.type=="function"&&d.__k===f.__k?d.__d=c=Gn(d,c,t):c=Qn(t,d,f,v,p,c),typeof n.type=="function"&&(n.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=Me(f))}for(n.__e=E,u=k;u--;)v[u]!=null&&tr(v[u],v[u]);if(N)for(u=0;u<N.length;u++)er(N[u],N[++u],N[++u])}function Gn(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?Gn(r,e,n):Qn(n,r,r,i,r.__e,e));return e}function Qn(t,e,n,r,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Hr(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||ut(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||ut(t,s,e[s],n[s],r)}function Cn(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Vr.test(e)?n:n+"px"}function ut(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Cn(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Cn(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Nn:En,s):t.removeEventListener(e,s?Nn:En,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function En(t){this.l[t.type+!1](T.event?T.event(t):t)}function Nn(t){this.l[t.type+!0](T.event?T.event(t):t)}function ln(t,e,n,r,i,s,o,a,c){var l,u,m,f,d,p,E,N,v,k,b,w,M,P,O,B=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(l=T.__b)&&l(e);try{e:if(typeof B=="function"){if(N=e.props,v=(l=B.contextType)&&r[l.__c],k=l?v?v.props.value:l.__:r,n.__c?E=(u=e.__c=n.__c).__=u.__E:("prototype"in B&&B.prototype.render?e.__c=u=new B(N,k):(e.__c=u=new Ie(N,k),u.constructor=B,u.render=Kr),v&&v.sub(u),u.props=N,u.state||(u.state={}),u.context=k,u.__n=r,m=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),B.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ee({},u.__s)),ee(u.__s,B.getDerivedStateFromProps(N,u.__s))),f=u.props,d=u.state,m)B.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(B.getDerivedStateFromProps==null&&N!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(N,k),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(N,u.__s,k)===!1||e.__v===n.__v){for(u.props=N,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(V){V&&(V.__=e)}),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(N,u.__s,k),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,d,p)})}if(u.context=k,u.props=N,u.__v=e,u.__P=t,w=T.__r,M=0,"prototype"in B&&B.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(e),l=u.render(u.props,u.state,u.context),P=0;P<u._sb.length;P++)u.__h.push(u._sb[P]);u._sb=[]}else do u.__d=!1,w&&w(e),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++M<25);u.state=u.__s,u.getChildContext!=null&&(r=ee(ee({},r),u.getChildContext())),m||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(f,d)),O=l!=null&&l.type===Je&&l.key==null?l.props.children:l,qn(t,Array.isArray(O)?O:[O],e,n,r,i,s,o,a,c),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),E&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Fr(n.__e,e,n,r,i,s,o,c);(l=T.diffed)&&l(e)}catch(V){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),T.__e(V,e,n)}}function Xn(t,e){T.__c&&T.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){T.__e(r,n.__v)}})}function Fr(t,e,n,r,i,s,o,a){var c,l,u,m=n.props,f=e.props,d=e.type,p=0;if(d==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((c=s[p])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){t=c,s[p]=null;break}}if(t==null){if(d===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,f.is&&f),s=null,a=!1}if(d===null)m===f||a&&t.data===f||(t.data=f);else{if(s=s&&Ke.call(t.childNodes),l=(m=n.props||at).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(s!=null)for(m={},p=0;p<t.attributes.length;p++)m[t.attributes[p].name]=t.attributes[p].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(Hr(t,f,m,i,a),u)e.__k=[];else if(p=e.props.children,qn(t,Array.isArray(p)?p:[p],e,n,r,i&&d!=="foreignObject",s,o,s?s[0]:n.__k&&Me(n,0),a),s!=null)for(p=s.length;p--;)s[p]!=null&&Wn(s[p]);a||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||d==="progress"&&!p||d==="option"&&p!==m.value)&&ut(t,"value",p,m.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&ut(t,"checked",p,m.checked,!1))}return t}function er(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){T.__e(r,n)}}function tr(t,e,n){var r,i;if(T.unmount&&T.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||er(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){T.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&tr(r[i],e,n||typeof t.type!="function");n||t.__e==null||Wn(t.__e),t.__=t.__e=t.__d=void 0}function Kr(t,e,n){return this.constructor(t,n)}function Jr(t,e,n){var r,i,s;T.__&&T.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],ln(e,t=(!r&&n||e).__k=Nt(Je,null,[t]),i||at,at,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Ke.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),Xn(s,t)}function nr(t,e,n){var r,i,s,o=ee({},t.props);for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Ke.call(arguments,2):n),Se(t.type,o,r||t.key,i||t.ref,null)}function Wr(t,e){var n={__c:e="__cC"+Kn++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(Wt)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Ke=Jn.slice,T={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Fn=0,un=function(t){return t!=null&&t.constructor===void 0},Ie.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ee({},this.state),typeof t=="function"&&(t=t(ee({},n),this.props)),t&&ee(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Wt(this))},Ie.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Wt(this))},Ie.prototype.render=Je,Ne=[],ct.__r=0,Kn=0;var ke,Z,Dt,Sn,lt=0,rr=[],rt=[],In=T.__b,An=T.__r,Rn=T.diffed,Mn=T.__c,Pn=T.unmount;function We(t,e){T.__h&&T.__h(Z,t,lt||e),lt=0;var n=Z.__H||(Z.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:rt}),n.__[t]}function sr(t){return lt=1,Yr(ir,t)}function Yr(t,e,n){var r=We(ke++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):ir(void 0,e),function(s){var o=r.__N?r.__N[0]:r.__[0],a=r.t(o,s);o!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=Z,!Z.u)){Z.u=!0;var i=Z.shouldComponentUpdate;Z.shouldComponentUpdate=function(s,o,a){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(u){return u.__c});if(c.every(function(u){return!u.__N}))return!i||i.call(this,s,o,a);var l=!1;return c.forEach(function(u){if(u.__N){var m=u.__[0];u.__=u.__N,u.__N=void 0,m!==u.__[0]&&(l=!0)}}),!(!l&&r.__c.props===s)&&(!i||i.call(this,s,o,a))}}return r.__N||r.__}function St(t,e){var n=We(ke++,3);!T.__s&&hn(n.__H,e)&&(n.__=t,n.i=e,Z.__H.__h.push(n))}function dn(t,e){var n=We(ke++,4);!T.__s&&hn(n.__H,e)&&(n.__=t,n.i=e,Z.__h.push(n))}function qr(t){return lt=5,fn(function(){return{current:t}},[])}function fn(t,e){var n=We(ke++,7);return hn(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Gr(t){var e=Z.context[t.__c],n=We(ke++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Z)),e.props.value):t.__}function Qr(){for(var t;t=rr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(st),t.__H.__h.forEach(Yt),t.__H.__h=[]}catch(e){t.__H.__h=[],T.__e(e,t.__v)}}T.__b=function(t){Z=null,In&&In(t)},T.__r=function(t){An&&An(t),ke=0;var e=(Z=t.__c).__H;e&&(Dt===Z?(e.__h=[],Z.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=rt,n.__N=n.i=void 0})):(e.__h.forEach(st),e.__h.forEach(Yt),e.__h=[])),Dt=Z},T.diffed=function(t){Rn&&Rn(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(rr.push(e)!==1&&Sn===T.requestAnimationFrame||((Sn=T.requestAnimationFrame)||Xr)(Qr)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==rt&&(n.__=n.__V),n.i=void 0,n.__V=rt})),Dt=Z=null},T.__c=function(t,e){e.some(function(n){try{n.__h.forEach(st),n.__h=n.__h.filter(function(r){return!r.__||Yt(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],T.__e(r,n.__v)}}),Mn&&Mn(t,e)},T.unmount=function(t){Pn&&Pn(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{st(r)}catch(i){e=i}}),n.__H=void 0,e&&T.__e(e,n.__v))};var Bn=typeof requestAnimationFrame=="function";function Xr(t){var e,n=function(){clearTimeout(r),Bn&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Bn&&(e=requestAnimationFrame(n))}function st(t){var e=Z,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Z=e}function Yt(t){var e=Z;t.__c=t.__(),Z=e}function hn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function ir(t,e){return typeof e=="function"?e(t):e}function Ut(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function es(t,e){const n=e(),[{_instance:r},i]=sr({_instance:{_value:n,_getSnapshot:e}});return dn(()=>{r._value=n,r._getSnapshot=e,Ut(r._value,e())||i({_instance:r})},[t,n,e]),St(()=>(Ut(r._value,r._getSnapshot())||i({_instance:r}),t(()=>{Ut(r._value,r._getSnapshot())||i({_instance:r})})),[t]),n}const or=t=>{const e=qr([t,(...n)=>e[0](...n)]).current;return dn(()=>{e[0]=t}),e[1]},ts=(t="",e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ns=(t,e="")=>t[0]==="~"?t.slice(1):e+t,rs="popstate",pn="pushState",_n="replaceState",ss="hashchange",Ln=[rs,pn,_n,ss],is=t=>{for(const e of Ln)addEventListener(e,t);return()=>{for(const e of Ln)removeEventListener(e,t)}},os=t=>es(is,t),as=()=>location.pathname,cs=()=>os(as),us=(t,{replace:e=!1}={})=>history[e?_n:pn](null,"",t),ls=(t={})=>[ts(t.base,cs()),or((e,n)=>us(ns(e,t.base),n))];if(typeof history<"u")for(const t of[pn,_n]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}function ds(t=hs){let e={};const n=r=>e[r]||(e[r]=t(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);return a?[!0,o.reduce((l,u,m)=>(l[u.name]=a[m+1],l),{})]:[!1,null]}}const On=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),fs=(t,e,n)=>{let r=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&n&&(r="(?:\\/"+r+")"),r+(e?"?":"")},hs=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=e.exec(t))!==null;){const[o,a,c]=n,l=c==="+"||c==="*",u=c==="?"||c==="*",m=u&&t[n.index-1]==="/"?1:0,f=t.substring(r,n.index-m);i.push({name:a}),r=e.lastIndex,s+=On(f)+fs(l,u,m)}return s+=On(t.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},qt={hook:ls,matcher:ds(),base:""},ar=Wr(qt),It=()=>Gr(ar),At=t=>t.hook(t),mn=()=>At(It()),ps=t=>{const e=It(),[n]=At(e);return e.matcher(t,n)},_s=({hook:t,matcher:e,base:n="",parent:r,children:i})=>{const s=(a,c=r||qt)=>(a.hook=t||c.hook,a.matcher=e||c.matcher,a.ownBase=n,a.parent=r,a),[o]=sr(()=>s({get base(){return(o.parent||qt).base+o.ownBase}}));return dn(()=>{s(o)}),Nt(ar.Provider,{value:o,children:i})},Ee=({path:t,match:e,component:n,children:r})=>{const i=ps(t),[s,o]=e||i;return s?n?Nt(n,{params:o}):typeof r=="function"?r(o):r:null},ms=(t,e)=>{const n=It(),[,r]=At(n),{to:i,href:s=i,children:o,onClick:a}=t,c=or(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(a&&a(m),m.defaultPrevented||(m.preventDefault(),r(i||s,t)))}),l={href:s[0]==="~"?s.slice(1):n.base+s,onClick:c,to:null,ref:e},u=un(o)?o:Nt("a",t);return nr(u,l)},Gt=t=>Array.isArray(t)?[].concat(...t.map(e=>e&&e.type===Je?Gt(e.props.children):Gt(e))):[t],ys=({children:t,location:e})=>{const n=It(),r=n.matcher,[i]=At(n);for(const s of Gt(t)){let o=0;if(un(s)&&(o=s.props.path?r(s.props.path,e||i):[!0,{}])[0])return nr(s,{match:o})}return null};var R;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(R||(R={}));const _=R.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),se=t=>{switch(typeof t){case"undefined":return _.undefined;case"string":return _.string;case"number":return isNaN(t)?_.nan:_.number;case"boolean":return _.boolean;case"function":return _.function;case"bigint":return _.bigint;case"symbol":return _.symbol;case"object":return Array.isArray(t)?_.array:t===null?_.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_.promise:typeof Map<"u"&&t instanceof Map?_.map:typeof Set<"u"&&t instanceof Set?_.set:typeof Date<"u"&&t instanceof Date?_.date:_.object;default:return _.unknown}},h=R.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gs=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class te extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,R.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}te.create=t=>new te(t);const Pe=(t,e)=>{let n;switch(t.code){case h.invalid_type:t.received===_.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case h.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,R.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:n=`Unrecognized key(s) in object: ${R.joinValues(t.keys,", ")}`;break;case h.invalid_union:n="Invalid input";break;case h.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${R.joinValues(t.options)}`;break;case h.invalid_enum_value:n=`Invalid enum value. Expected ${R.joinValues(t.options)}, received '${t.received}'`;break;case h.invalid_arguments:n="Invalid function arguments";break;case h.invalid_return_type:n="Invalid function return type";break;case h.invalid_date:n="Invalid date";break;case h.invalid_string:typeof t.validation=="object"?"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:R.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case h.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(t.minimum)}`:n="Invalid input";break;case h.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(t.maximum)}`:n="Invalid input";break;case h.custom:n="Invalid input";break;case h.invalid_intersection_types:n="Intersection results could not be merged";break;case h.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case h.not_finite:n="Number must be finite";break;default:n=e.defaultError,R.assertNever(t)}return{message:n}};let cr=Pe;function vs(t){cr=t}function dt(){return cr}const ft=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},ws=[];function g(t,e){const n=ft({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,dt(),Pe].filter(r=>!!r)});t.common.issues.push(n)}class U{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return C;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return U.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return C;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const C=Object.freeze({status:"aborted"}),ur=t=>({status:"dirty",value:t}),D=t=>({status:"valid",value:t}),Qt=t=>t.status==="aborted",Xt=t=>t.status==="dirty",ht=t=>t.status==="valid",pt=t=>typeof Promise!==void 0&&t instanceof Promise;var A;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(A||(A={}));class Y{constructor(e,n,r,i){this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._path.concat(this._key)}}const Zn=(t,e)=>{if(ht(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new te(t.common.issues)}};function I(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class S{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return se(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new U,ctx:{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(pt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Zn(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(pt(i)?i:Promise.resolve(i));return Zn(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:h.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new K({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return W.create(this)}nullable(){return de.create(this)}nullish(){return this.optional().nullable()}array(){return F.create(this)}promise(){return ge.create(this)}or(e){return $e.create([this,e])}and(e){return De.create(this,e)}transform(e){return new K({schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new He({innerType:this,defaultValue:n,typeName:x.ZodDefault})}brand(){return new dr({typeName:x.ZodBranded,type:this,...I(void 0)})}catch(e){const n=typeof e=="function"?e:()=>e;return new vt({innerType:this,defaultValue:n,typeName:x.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return qe.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bs=/^c[^\s-]{8,}$/i,xs=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,ks=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Ts=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}:\\d{2})|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}:\\d{2})|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class ne extends S{constructor(){super(...arguments),this._regex=(e,n,r)=>this.refinement(i=>e.test(i),{validation:n,code:h.invalid_string,...A.errToObj(r)}),this.nonempty=e=>this.min(1,A.errToObj(e)),this.trim=()=>new ne({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_.string){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:_.string,received:s.parsedType}),C}const r=new U;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:h.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:h.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?g(i,{code:h.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&g(i,{code:h.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")ks.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"email",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")xs.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"uuid",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")bs.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cuid",code:h.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),g(i,{validation:"url",code:h.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"regex",code:h.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:h.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:h.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ts(s).test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:h.invalid_string,validation:"datetime",message:s.message}),r.dirty()):R.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new ne({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...A.errToObj(e)})}url(e){return this._addCheck({kind:"url",...A.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...A.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...A.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...A.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...A.errToObj(n)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...A.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...A.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...A.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...A.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...A.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ne.create=t=>{var e;return new ne({checks:[],typeName:x.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...I(t)})};function Cs(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class oe extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_.number){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:_.number,received:s.parsedType}),C}let r;const i=new U;for(const s of this._def.checks)s.kind==="int"?R.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:h.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:h.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:h.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Cs(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),g(r,{code:h.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:h.not_finite,message:s.message}),i.dirty()):R.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,A.toString(n))}gt(e,n){return this.setLimit("min",e,!1,A.toString(n))}lte(e,n){return this.setLimit("max",e,!0,A.toString(n))}lt(e,n){return this.setLimit("max",e,!1,A.toString(n))}setLimit(e,n,r,i){return new oe({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:A.toString(i)}]})}_addCheck(e){return new oe({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:A.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:A.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}oe.create=t=>new oe({checks:[],typeName:x.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...I(t)});class Be extends S{_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_.bigint){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.bigint,received:r.parsedType}),C}return D(e.data)}}Be.create=t=>{var e;return new Be({typeName:x.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...I(t)})};class Le extends S{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==_.boolean){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.boolean,received:r.parsedType}),C}return D(e.data)}}Le.create=t=>new Le({typeName:x.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...I(t)});class ue extends S{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_.date){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_type,expected:_.date,received:s.parsedType}),C}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return g(s,{code:h.invalid_date}),C}const r=new U;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:h.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:h.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):R.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ue({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:A.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:A.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ue.create=t=>new ue({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:x.ZodDate,...I(t)});class _t extends S{_parse(e){if(this._getType(e)!==_.symbol){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.symbol,received:r.parsedType}),C}return D(e.data)}}_t.create=t=>new _t({typeName:x.ZodSymbol,...I(t)});class Oe extends S{_parse(e){if(this._getType(e)!==_.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.undefined,received:r.parsedType}),C}return D(e.data)}}Oe.create=t=>new Oe({typeName:x.ZodUndefined,...I(t)});class Ze extends S{_parse(e){if(this._getType(e)!==_.null){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.null,received:r.parsedType}),C}return D(e.data)}}Ze.create=t=>new Ze({typeName:x.ZodNull,...I(t)});class ye extends S{constructor(){super(...arguments),this._any=!0}_parse(e){return D(e.data)}}ye.create=t=>new ye({typeName:x.ZodAny,...I(t)});class ce extends S{constructor(){super(...arguments),this._unknown=!0}_parse(e){return D(e.data)}}ce.create=t=>new ce({typeName:x.ZodUnknown,...I(t)});class re extends S{_parse(e){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:_.never,received:n.parsedType}),C}}re.create=t=>new re({typeName:x.ZodNever,...I(t)});class mt extends S{_parse(e){if(this._getType(e)!==_.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.void,received:r.parsedType}),C}return D(e.data)}}mt.create=t=>new mt({typeName:x.ZodVoid,...I(t)});class F extends S{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==_.array)return g(n,{code:h.invalid_type,expected:_.array,received:n.parsedType}),C;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(g(n,{code:o?h.too_big:h.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(g(n,{code:h.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(g(n,{code:h.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all(n.data.map((o,a)=>i.type._parseAsync(new Y(n,o,n.path,a)))).then(o=>U.mergeArray(r,o));const s=n.data.map((o,a)=>i.type._parseSync(new Y(n,o,n.path,a)));return U.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new F({...this._def,minLength:{value:e,message:A.toString(n)}})}max(e,n){return new F({...this._def,maxLength:{value:e,message:A.toString(n)}})}length(e,n){return new F({...this._def,exactLength:{value:e,message:A.toString(n)}})}nonempty(e){return this.min(1,e)}}F.create=(t,e)=>new F({type:t,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...I(e)});var yt;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(yt||(yt={}));const $n=t=>e=>new L({...t,shape:()=>({...t.shape(),...e})});function pe(t){if(t instanceof L){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=W.create(pe(r))}return new L({...t._def,shape:()=>e})}else return t instanceof F?F.create(pe(t.element)):t instanceof W?W.create(pe(t.unwrap())):t instanceof de?de.create(pe(t.unwrap())):t instanceof q?q.create(t.items.map(e=>pe(e))):t}class L extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=$n(this._def),this.extend=$n(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=R.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==_.object){const l=this._getOrReturnCtx(e);return g(l,{code:h.invalid_type,expected:_.object,received:l.parsedType}),C}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof re&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],m=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Y(i,m,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof re){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(g(i,{code:h.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const m=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Y(i,m,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const m=await u.key;l.push({key:m,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>U.mergeObjectSync(r,l)):U.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return A.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=A.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}setKey(e,n){return this.augment({[e]:n})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>yt.mergeShapes(this._def.shape(),e._def.shape()),typeName:x.ZodObject})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const n={};return R.objectKeys(e).map(r=>{this.shape[r]&&(n[r]=this.shape[r])}),new L({...this._def,shape:()=>n})}omit(e){const n={};return R.objectKeys(this.shape).map(r=>{R.objectKeys(e).indexOf(r)===-1&&(n[r]=this.shape[r])}),new L({...this._def,shape:()=>n})}deepPartial(){return pe(this)}partial(e){const n={};if(e)return R.objectKeys(this.shape).map(r=>{R.objectKeys(e).indexOf(r)===-1?n[r]=this.shape[r]:n[r]=this.shape[r].optional()}),new L({...this._def,shape:()=>n});for(const r in this.shape){const i=this.shape[r];n[r]=i.optional()}return new L({...this._def,shape:()=>n})}required(e){const n={};if(e)R.objectKeys(this.shape).map(r=>{if(R.objectKeys(e).indexOf(r)===-1)n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof W;)s=s._def.innerType;n[r]=s}});else for(const r in this.shape){let s=this.shape[r];for(;s instanceof W;)s=s._def.innerType;n[r]=s}return new L({...this._def,shape:()=>n})}keyof(){return lr(R.objectKeys(this.shape))}}L.create=(t,e)=>new L({shape:()=>t,unknownKeys:"strip",catchall:re.create(),typeName:x.ZodObject,...I(e)});L.strictCreate=(t,e)=>new L({shape:()=>t,unknownKeys:"strict",catchall:re.create(),typeName:x.ZodObject,...I(e)});L.lazycreate=(t,e)=>new L({shape:t,unknownKeys:"strip",catchall:re.create(),typeName:x.ZodObject,...I(e)});class $e extends S{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new te(a.ctx.common.issues));return g(n,{code:h.invalid_union,unionErrors:o}),C}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new te(c));return g(n,{code:h.invalid_union,unionErrors:a}),C}}get options(){return this._def.options}}$e.create=(t,e)=>new $e({options:t,typeName:x.ZodUnion,...I(e)});const it=t=>t instanceof je?it(t.schema):t instanceof K?it(t.innerType()):t instanceof Ve?[t.value]:t instanceof Ye?t.options:t instanceof ze?Object.keys(t.enum):t instanceof He?it(t._def.innerType):t instanceof Oe?[void 0]:t instanceof Ze?[null]:null;class Rt extends S{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_.object)return g(n,{code:h.invalid_type,expected:_.object,received:n.parsedType}),C;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(g(n,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=it(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Rt({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...I(r)})}}function en(t,e){const n=se(t),r=se(e);if(t===e)return{valid:!0,data:t};if(n===_.object&&r===_.object){const i=R.objectKeys(e),s=R.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=en(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===_.array&&r===_.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=en(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===_.date&&r===_.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class De extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Qt(s)||Qt(o))return C;const a=en(s.value,o.value);return a.valid?((Xt(s)||Xt(o))&&n.dirty(),{status:n.value,value:a.data}):(g(r,{code:h.invalid_intersection_types}),C)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}De.create=(t,e,n)=>new De({left:t,right:e,typeName:x.ZodIntersection,...I(n)});class q extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_.array)return g(r,{code:h.invalid_type,expected:_.array,received:r.parsedType}),C;if(r.data.length<this._def.items.length)return g(r,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&r.data.length>this._def.items.length&&(g(r,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=r.data.map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Y(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>U.mergeArray(n,o)):U.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new q({...this._def,rest:e})}}q.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new q({items:t,typeName:x.ZodTuple,rest:null,...I(e)})};class Ue extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_.object)return g(r,{code:h.invalid_type,expected:_.object,received:r.parsedType}),C;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Y(r,a,r.path,a)),value:o._parse(new Y(r,r.data[a],r.path,a))});return r.common.async?U.mergeObjectAsync(n,i):U.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof S?new Ue({keyType:e,valueType:n,typeName:x.ZodRecord,...I(r)}):new Ue({keyType:ne.create(),valueType:e,typeName:x.ZodRecord,...I(n)})}}class gt extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_.map)return g(r,{code:h.invalid_type,expected:_.map,received:r.parsedType}),C;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new Y(r,a,r.path,[l,"key"])),value:s._parse(new Y(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return C;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return C;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}gt.create=(t,e,n)=>new gt({valueType:e,keyType:t,typeName:x.ZodMap,...I(n)});class le extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==_.set)return g(r,{code:h.invalid_type,expected:_.set,received:r.parsedType}),C;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(g(r,{code:h.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(g(r,{code:h.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return C;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new Y(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new le({...this._def,minSize:{value:e,message:A.toString(n)}})}max(e,n){return new le({...this._def,maxSize:{value:e,message:A.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}le.create=(t,e)=>new le({valueType:t,minSize:null,maxSize:null,typeName:x.ZodSet,...I(e)});class _e extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_.function)return g(n,{code:h.invalid_type,expected:_.function,received:n.parsedType}),C;function r(a,c){return ft({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dt(),Pe].filter(l=>!!l),issueData:{code:h.invalid_arguments,argumentsError:c}})}function i(a,c){return ft({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dt(),Pe].filter(l=>!!l),issueData:{code:h.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;return this._def.returns instanceof ge?D(async(...a)=>{const c=new te([]),l=await this._def.args.parseAsync(a,s).catch(f=>{throw c.addIssue(r(a,f)),c}),u=await o(...l);return await this._def.returns._def.type.parseAsync(u,s).catch(f=>{throw c.addIssue(i(u,f)),c})}):D((...a)=>{const c=this._def.args.safeParse(a,s);if(!c.success)throw new te([r(a,c.error)]);const l=o(...c.data),u=this._def.returns.safeParse(l,s);if(!u.success)throw new te([i(l,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new _e({...this._def,args:q.create(e).rest(ce.create())})}returns(e){return new _e({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new _e({args:e||q.create([]).rest(ce.create()),returns:n||ce.create(),typeName:x.ZodFunction,...I(r)})}}class je extends S{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}je.create=(t,e)=>new je({getter:t,typeName:x.ZodLazy,...I(e)});class Ve extends S{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ve.create=(t,e)=>new Ve({value:t,typeName:x.ZodLiteral,...I(e)});function lr(t,e){return new Ye({values:t,typeName:x.ZodEnum,...I(e)})}class Ye extends S{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return g(n,{expected:R.joinValues(r),received:n.parsedType,code:h.invalid_type}),C}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return g(n,{received:n.data,code:h.invalid_enum_value,options:r}),C}return D(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}}Ye.create=lr;class ze extends S{_parse(e){const n=R.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==_.string&&r.parsedType!==_.number){const i=R.objectValues(n);return g(r,{expected:R.joinValues(i),received:r.parsedType,code:h.invalid_type}),C}if(n.indexOf(e.data)===-1){const i=R.objectValues(n);return g(r,{received:r.data,code:h.invalid_enum_value,options:i}),C}return D(e.data)}get enum(){return this._def.values}}ze.create=(t,e)=>new ze({values:t,typeName:x.ZodNativeEnum,...I(e)});class ge extends S{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==_.promise&&n.common.async===!1)return g(n,{code:h.invalid_type,expected:_.promise,received:n.parsedType}),C;const r=n.parsedType===_.promise?n.data:Promise.resolve(n.data);return D(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ge.create=(t,e)=>new ge({type:t,typeName:x.ZodPromise,...I(e)});class K extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(r.data);return r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const s={addIssue:o=>{g(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?C:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?C:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ht(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ht(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);R.assertNever(i)}}K.create=(t,e,n)=>new K({schema:t,typeName:x.ZodEffects,effect:e,...I(n)});K.createWithPreprocess=(t,e,n)=>new K({schema:e,effect:{type:"preprocess",transform:t},typeName:x.ZodEffects,...I(n)});class W extends S{_parse(e){return this._getType(e)===_.undefined?D(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}W.create=(t,e)=>new W({innerType:t,typeName:x.ZodOptional,...I(e)});class de extends S{_parse(e){return this._getType(e)===_.null?D(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}de.create=(t,e)=>new de({innerType:t,typeName:x.ZodNullable,...I(e)});class He extends S{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===_.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}He.create=(t,e)=>new He({innerType:t,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...I(e)});class vt extends S{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.innerType._parse({data:n.data,path:n.path,parent:n});return pt(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.defaultValue()})):{status:"valid",value:r.status==="valid"?r.value:this._def.defaultValue()}}removeDefault(){return this._def.innerType}}vt.create=(t,e)=>new vt({innerType:t,typeName:x.ZodCatch,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...I(e)});class wt extends S{_parse(e){if(this._getType(e)!==_.nan){const r=this._getOrReturnCtx(e);return g(r,{code:h.invalid_type,expected:_.nan,received:r.parsedType}),C}return{status:"valid",value:e.data}}}wt.create=t=>new wt({typeName:x.ZodNaN,...I(t)});const Es=Symbol("zod_brand");class dr extends S{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class qe extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?C:s.status==="dirty"?(n.dirty(),ur(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?C:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new qe({in:e,out:n,typeName:x.ZodPipeline})}}const fr=(t,e={},n)=>t?ye.create().superRefine((r,i)=>{if(!t(r)){const s=typeof e=="function"?e(r):e,o=typeof s=="string"?{message:s}:s;i.addIssue({code:"custom",...o,fatal:n})}}):ye.create(),Ns={object:L.lazycreate};var x;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(x||(x={}));const Ss=(t,e={message:`Input not instance of ${t.name}`})=>fr(n=>n instanceof t,e,!0),hr=ne.create,pr=oe.create,Is=wt.create,As=Be.create,_r=Le.create,Rs=ue.create,Ms=_t.create,Ps=Oe.create,Bs=Ze.create,Ls=ye.create,Os=ce.create,Zs=re.create,$s=mt.create,Ds=F.create,Us=L.create,js=L.strictCreate,Vs=$e.create,zs=Rt.create,Hs=De.create,Fs=q.create,Ks=Ue.create,Js=gt.create,Ws=le.create,Ys=_e.create,qs=je.create,Gs=Ve.create,Qs=Ye.create,Xs=ze.create,ei=ge.create,Dn=K.create,ti=W.create,ni=de.create,ri=K.createWithPreprocess,si=qe.create,ii=()=>hr().optional(),oi=()=>pr().optional(),ai=()=>_r().optional(),ci={string:t=>ne.create({...t,coerce:!0}),number:t=>oe.create({...t,coerce:!0}),boolean:t=>Le.create({...t,coerce:!0}),bigint:t=>Be.create({...t,coerce:!0}),date:t=>ue.create({...t,coerce:!0})},ui=C;var et=Object.freeze({__proto__:null,defaultErrorMap:Pe,setErrorMap:vs,getErrorMap:dt,makeIssue:ft,EMPTY_PATH:ws,addIssueToContext:g,ParseStatus:U,INVALID:C,DIRTY:ur,OK:D,isAborted:Qt,isDirty:Xt,isValid:ht,isAsync:pt,get util(){return R},ZodParsedType:_,getParsedType:se,ZodType:S,ZodString:ne,ZodNumber:oe,ZodBigInt:Be,ZodBoolean:Le,ZodDate:ue,ZodSymbol:_t,ZodUndefined:Oe,ZodNull:Ze,ZodAny:ye,ZodUnknown:ce,ZodNever:re,ZodVoid:mt,ZodArray:F,get objectUtil(){return yt},ZodObject:L,ZodUnion:$e,ZodDiscriminatedUnion:Rt,ZodIntersection:De,ZodTuple:q,ZodRecord:Ue,ZodMap:gt,ZodSet:le,ZodFunction:_e,ZodLazy:je,ZodLiteral:Ve,ZodEnum:Ye,ZodNativeEnum:ze,ZodPromise:ge,ZodEffects:K,ZodTransformer:K,ZodOptional:W,ZodNullable:de,ZodDefault:He,ZodCatch:vt,ZodNaN:wt,BRAND:Es,ZodBranded:dr,ZodPipeline:qe,custom:fr,Schema:S,ZodSchema:S,late:Ns,get ZodFirstPartyTypeKind(){return x},coerce:ci,any:Ls,array:Ds,bigint:As,boolean:_r,date:Rs,discriminatedUnion:zs,effect:Dn,enum:Qs,function:Ys,instanceof:Ss,intersection:Hs,lazy:qs,literal:Gs,map:Js,nan:Is,nativeEnum:Xs,never:Zs,null:Bs,nullable:ni,number:pr,object:Us,oboolean:ai,onumber:oi,optional:ti,ostring:ii,pipeline:si,preprocess:ri,promise:ei,record:Ks,set:Ws,strictObject:js,string:hr,symbol:Ms,transformer:Dn,tuple:Fs,undefined:Ps,union:Vs,unknown:Os,void:$s,NEVER:ui,ZodIssueCode:h,quotelessJson:gs,ZodError:te});const Un={name:"RSA-OAEP",hash:{name:"SHA-256"}},bt="identity",mr=async t=>{const e=await crypto.subtle.exportKey("spki",t);return window.btoa(String.fromCharCode(...new Uint8Array(e)))},li=t=>new Promise(e=>{if(t.length===0)return e(void 0);const n=new FileReader;n.onloadend=async()=>{const r=await yr(n.result);return e(r||void 0)},n.readAsText(t[0])}),di=async({publicKey:t,privateKey:e,username:n})=>JSON.stringify({publicKey:await crypto.subtle.exportKey("jwk",t),privateKey:await crypto.subtle.exportKey("jwk",e),username:n}),yr=async t=>{const e=et.object({publicKey:et.any(),privateKey:et.any(),username:et.string()}).safeParse(JSON.parse(t));if(e.success)return{publicKey:await crypto.subtle.importKey("jwk",e.data.publicKey,Un,!0,["encrypt"]),privateKey:await crypto.subtle.importKey("jwk",e.data.privateKey,Un,!0,["decrypt"]),username:e.data.username}},fi=async()=>await crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),hi=()=>yr(localStorage.getItem(bt)||'""');var pi=0;function y(t,e,n,r,i){var s,o,a={};for(o in e)o=="ref"?s=e[o]:a[o]=e[o];var c={type:t,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--pi,__source:i,__self:r};if(typeof t=="function"&&(s=t.defaultProps))for(o in s)a[o]===void 0&&(a[o]=s[o]);return T.vnode&&T.vnode(c),c}const Mt=t=>y("div",{className:"w-full h-full bg-black flex justify-center text-white",children:y("div",{className:"max-w-md flex flex-col justify-center items-center flex-1",children:t.children})});function Pt(){throw new Error("Cycle detected")}function yn(){if(me>1)me--;else{for(var t,e=!1;Ae!==void 0;){var n=Ae;for(Ae=void 0,tn++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&vr(n))try{n.c()}catch(i){e||(t=i,e=!0)}n=r}}if(tn=0,me--,e)throw t}}var $=void 0,Ae=void 0,me=0,tn=0,xt=0;function gr(t){if($!==void 0){var e=t.n;if(e===void 0||e.t!==$)return e={i:0,S:t,p:$.s,n:void 0,t:$,e:void 0,x:void 0,r:e},$.s!==void 0&&($.s.n=e),$.s=e,t.n=e,32&$.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=$.s,e.n=void 0,$.s.n=e,$.s=e),e}}function j(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}j.prototype.h=function(){return!0};j.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};j.prototype.U=function(t){if(this.t!==void 0){var e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};j.prototype.subscribe=function(t){var e=this;return Qe(function(){var n=e.value,r=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=r}})};j.prototype.valueOf=function(){return this.value};j.prototype.toString=function(){return this.value+""};j.prototype.peek=function(){return this.v};Object.defineProperty(j.prototype,"value",{get:function(){var t=gr(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){tn>100&&Pt(),this.v=t,this.i++,xt++,me++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{yn()}}}});function fe(t){return new j(t)}function vr(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function wr(t){for(var e=t.s;e!==void 0;e=e.n){var n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function br(t){for(var e=t.s,n=void 0;e!==void 0;){var r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):n=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}t.s=n}function he(t){j.call(this,void 0),this.x=t,this.s=void 0,this.g=xt-1,this.f=4}(he.prototype=new j).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===xt))return!0;if(this.g=xt,this.f|=1,this.i>0&&!vr(this))return this.f&=-2,!0;var t=$;try{wr(this),$=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return $=t,br(this),this.f&=-2,!0};he.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}j.prototype.S.call(this,t)};he.prototype.U=function(t){if(this.t!==void 0&&(j.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};he.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};he.prototype.peek=function(){if(this.h()||Pt(),16&this.f)throw this.v;return this.v};Object.defineProperty(he.prototype,"value",{get:function(){1&this.f&&Pt();var t=gr(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function _i(t){return new he(t)}function xr(t){var e=t.u;if(t.u=void 0,typeof e=="function"){me++;var n=$;$=void 0;try{e()}catch(r){throw t.f&=-2,t.f|=8,gn(t),r}finally{$=n,yn()}}}function gn(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,xr(t)}function mi(t){if($!==this)throw new Error("Out-of-order effect");br(this),$=t,this.f&=-2,8&this.f&&gn(this),yn()}function Ge(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Ge.prototype.c=function(){var t=this.S();try{!(8&this.f)&&this.x!==void 0&&(this.u=this.x())}finally{t()}};Ge.prototype.S=function(){1&this.f&&Pt(),this.f|=1,this.f&=-9,xr(this),wr(this),me++;var t=$;return $=this,mi.bind(this,t)};Ge.prototype.N=function(){2&this.f||(this.f|=2,this.o=Ae,Ae=this)};Ge.prototype.d=function(){this.f|=8,1&this.f||gn(this)};function Qe(t){var e=new Ge(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}var jt;function Te(t,e){T[t]=e.bind(null,T[t]||function(){})}function kt(t){jt&&jt(),jt=t&&t.S()}function kr(t){var e=this,n=t.data,r=Tt(n);r.value=n;var i=fn(function(){for(var s=e.__v;s=s.__;)if(s.__c){s.__c.__$f|=4;break}return e.__$u.c=function(){e.base.data=i.peek()},_i(function(){var o=r.value.value;return o===0?0:o===!0?"":o||""})},[]);return i.value}kr.displayName="_st";Object.defineProperties(j.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:kr},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});Te("__b",function(t,e){if(typeof e.type=="string"){var n,r=e.props;for(var i in r)if(i!=="children"){var s=r[i];s instanceof j&&(n||(e.__np=n={}),n[i]=s,r[i]=s.peek())}}t(e)});Te("__r",function(t,e){kt();var n,r=e.__c;r&&(r.__$f&=-2,(n=r.__$u)===void 0&&(r.__$u=n=function(i){var s;return Qe(function(){s=this}),s.c=function(){r.__$f|=1,r.setState({})},s}())),kt(n),t(e)});Te("__e",function(t,e,n,r){kt(),t(e,n,r)});Te("diffed",function(t,e){kt();var n;if(typeof e.type=="string"&&(n=e.__e)){var r=e.__np,i=e.props;if(r){var s=n.U;if(s)for(var o in s){var a=s[o];a!==void 0&&!(o in r)&&(a.d(),s[o]=void 0)}else n.U=s={};for(var c in r){var l=s[c],u=r[c];l===void 0?(l=yi(n,c,u,i),s[c]=l):l.o(u,i)}}}t(e)});function yi(t,e,n,r){var i=e in t&&t.ownerSVGElement===void 0,s=fe(n);return{o:function(o,a){s.value=o,r=a},d:Qe(function(){var o=s.value.value;r[e]!==o&&(r[e]=o,i?t[e]=o:o?t.setAttribute(e,o):t.removeAttribute(e))})}}Te("unmount",function(t,e){if(typeof e.type=="string"){var n=e.__e;if(n){var r=n.U;if(r){n.U=void 0;for(var i in r){var s=r[i];s&&s.d()}}}}else{var o=e.__c;if(o){var a=o.__$u;a&&(o.__$u=void 0,a.d())}}t(e)});Te("__h",function(t,e,n,r){r<3&&(e.__$f|=2),t(e,n,r)});Ie.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var r in e)return!0;for(var i in t)if(i!=="__source"&&t[i]!==this.props[i])return!0;for(var s in this.props)if(!(s in t))return!0;return!1};function Tt(t){return fn(function(){return fe(t)},[])}const gi=fe(void 0);fe([]);const vi=()=>{var t;return y(Mt,{children:[y("div",{className:"flex items-center justify-between px-3 py-5 border-b border-gray-500 w-full",children:[y("div",{className:"flex items-center",children:y("h1",{className:"pl-4 font-bold",children:((t=gi.value)==null?void 0:t.displayName)||"Loading..."})}),y("a",{href:"/authenticated/conversations",children:y("i",{className:"fa-solid fa-chevron-right text-xl"})})]}),y("div",{className:"flex-1"}),y("div",{className:"border-gray-500 flex items-center border-t py-4 px-2 w-full",children:[y("input",{className:"bg-black border border-white focus:outline-none w-full px-3 py-2 rounded-[2rem]",type:"text",placeholder:"Type your message..."}),y("i",{className:"fa-solid fa-paper-plane py-2 text-2xl pr-3 pl-6"})]})]})};var wi=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Tr={},H={};let vn;const bi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};H.getSymbolTotalCodewords=function(e){return bi[e]};H.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};H.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');vn=e};H.isKanjiModeEnabled=function(){return typeof vn<"u"};H.toSJIS=function(e){return vn(e)};var Bt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(Bt);function Cr(){this.buffer=[],this.length=0}Cr.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var xi=Cr;function Xe(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Xe.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Xe.prototype.get=function(t,e){return this.data[t*this.size+e]};Xe.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Xe.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var ki=Xe,Er={};(function(t){const e=H.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(Er);var Nr={};const Ti=H.getSymbolSize,jn=7;Nr.getPositions=function(e){const n=Ti(e);return[[0,0],[n-jn,0],[0,n-jn]]};var Sr={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let m=0;m<s;m++){a=c=0,l=u=null;for(let f=0;f<s;f++){let d=i.get(m,f);d===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=d,a=1),d=i.get(f,m),d===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=d,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(Sr);var Lt={};const ie=Bt,tt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],nt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Lt.getBlocksCount=function(e,n){switch(n){case ie.L:return tt[(e-1)*4+0];case ie.M:return tt[(e-1)*4+1];case ie.Q:return tt[(e-1)*4+2];case ie.H:return tt[(e-1)*4+3];default:return}};Lt.getTotalCodewordsCount=function(e,n){switch(n){case ie.L:return nt[(e-1)*4+0];case ie.M:return nt[(e-1)*4+1];case ie.Q:return nt[(e-1)*4+2];case ie.H:return nt[(e-1)*4+3];default:return}};var Ir={},Ot={};const Re=new Uint8Array(512),Ct=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Re[n]=e,Ct[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Re[n]=Re[n-255]})();Ot.log=function(e){if(e<1)throw new Error("log("+e+")");return Ct[e]};Ot.exp=function(e){return Re[e]};Ot.mul=function(e,n){return e===0||n===0?0:Re[Ct[e]+Ct[n]]};(function(t){const e=Ot;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Ir);const Ar=Ir;function wn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}wn.prototype.initialize=function(e){this.degree=e,this.genPoly=Ar.generateECPolynomial(this.degree)};wn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Ar.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var Ci=wn,Rr={},ae={},bn={};bn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var G={};const Mr="[0-9]+",Ei="[A-Z $%*+\\-./:]+";let Fe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fe=Fe.replace(/u/g,"\\u");const Ni="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fe+`)(?:.|[\r
]))+`;G.KANJI=new RegExp(Fe,"g");G.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");G.BYTE=new RegExp(Ni,"g");G.NUMERIC=new RegExp(Mr,"g");G.ALPHANUMERIC=new RegExp(Ei,"g");const Si=new RegExp("^"+Fe+"$"),Ii=new RegExp("^"+Mr+"$"),Ai=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");G.testKanji=function(e){return Si.test(e)};G.testNumeric=function(e){return Ii.test(e)};G.testAlphanumeric=function(e){return Ai.test(e)};(function(t){const e=bn,n=G;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(ae);(function(t){const e=H,n=Lt,r=Bt,i=ae,s=bn,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,a=e.getBCHDigit(o);function c(f,d,p){for(let E=1;E<=40;E++)if(d<=t.getCapacity(E,p,f))return E}function l(f,d){return i.getCharCountIndicator(f,d)+4}function u(f,d){let p=0;return f.forEach(function(E){const N=l(E.mode,d);p+=N+E.getBitsLength()}),p}function m(f,d){for(let p=1;p<=40;p++)if(u(f,p)<=t.getCapacity(p,d,i.MIXED))return p}t.from=function(d,p){return s.isValid(d)?parseInt(d,10):p},t.getCapacity=function(d,p,E){if(!s.isValid(d))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const N=e.getSymbolTotalCodewords(d),v=n.getTotalCodewordsCount(d,p),k=(N-v)*8;if(E===i.MIXED)return k;const b=k-l(E,d);switch(E){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(d,p){let E;const N=r.from(p,r.M);if(Array.isArray(d)){if(d.length>1)return m(d,N);if(d.length===0)return 1;E=d[0]}else E=d;return c(E.mode,E.getLength(),N)},t.getEncodedBits=function(d){if(!s.isValid(d)||d<7)throw new Error("Invalid QR Code version");let p=d<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return d<<12|p}})(Rr);var Pr={};const nn=H,Br=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Ri=1<<14|1<<12|1<<10|1<<4|1<<1,Vn=nn.getBCHDigit(Br);Pr.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;nn.getBCHDigit(i)-Vn>=0;)i^=Br<<nn.getBCHDigit(i)-Vn;return(r<<10|i)^Ri};var Lr={};const Mi=ae;function ve(t){this.mode=Mi.NUMERIC,this.data=t.toString()}ve.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ve.prototype.getLength=function(){return this.data.length};ve.prototype.getBitsLength=function(){return ve.getBitsLength(this.data.length)};ve.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var Pi=ve;const Bi=ae,Vt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function we(t){this.mode=Bi.ALPHANUMERIC,this.data=t}we.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};we.prototype.getLength=function(){return this.data.length};we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)};we.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Vt.indexOf(this.data[n])*45;r+=Vt.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Vt.indexOf(this.data[n]),6)};var Li=we,Oi=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Zi=Oi,$i=ae;function be(t){this.mode=$i.BYTE,typeof t=="string"&&(t=Zi(t)),this.data=new Uint8Array(t)}be.getBitsLength=function(e){return e*8};be.prototype.getLength=function(){return this.data.length};be.prototype.getBitsLength=function(){return be.getBitsLength(this.data.length)};be.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Di=be;const Ui=ae,ji=H;function xe(t){this.mode=Ui.KANJI,this.data=t}xe.getBitsLength=function(e){return e*13};xe.prototype.getLength=function(){return this.data.length};xe.prototype.getBitsLength=function(){return xe.getBitsLength(this.data.length)};xe.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=ji.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var Vi=xe,rn={},zi={get exports(){return rn},set exports(t){rn=t}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,u,m,f,d,p,E,N;!a.empty();){c=a.pop(),l=c.value,m=c.cost,f=n[l]||{};for(u in f)f.hasOwnProperty(u)&&(d=f[u],p=m+d,E=o[u],N=typeof o[u]>"u",(N||E>p)&&(o[u]=p,a.push(u,p),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var v=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(zi);(function(t){const e=ae,n=Pi,r=Li,i=Di,s=Vi,o=G,a=H,c=rn;function l(v){return unescape(encodeURIComponent(v)).length}function u(v,k,b){const w=[];let M;for(;(M=v.exec(b))!==null;)w.push({data:M[0],index:M.index,mode:k,length:M[0].length});return w}function m(v){const k=u(o.NUMERIC,e.NUMERIC,v),b=u(o.ALPHANUMERIC,e.ALPHANUMERIC,v);let w,M;return a.isKanjiModeEnabled()?(w=u(o.BYTE,e.BYTE,v),M=u(o.KANJI,e.KANJI,v)):(w=u(o.BYTE_KANJI,e.BYTE,v),M=[]),k.concat(b,w,M).sort(function(O,B){return O.index-B.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function f(v,k){switch(k){case e.NUMERIC:return n.getBitsLength(v);case e.ALPHANUMERIC:return r.getBitsLength(v);case e.KANJI:return s.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function d(v){return v.reduce(function(k,b){const w=k.length-1>=0?k[k.length-1]:null;return w&&w.mode===b.mode?(k[k.length-1].data+=b.data,k):(k.push(b),k)},[])}function p(v){const k=[];for(let b=0;b<v.length;b++){const w=v[b];switch(w.mode){case e.NUMERIC:k.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:k.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:k.push([w,{data:w.data,mode:e.BYTE,length:l(w.data)}]);break;case e.BYTE:k.push([{data:w.data,mode:e.BYTE,length:l(w.data)}])}}return k}function E(v,k){const b={},w={start:{}};let M=["start"];for(let P=0;P<v.length;P++){const O=v[P],B=[];for(let V=0;V<O.length;V++){const J=O[V],Ce=""+P+V;B.push(Ce),b[Ce]={node:J,lastCount:0},w[Ce]={};for(let $t=0;$t<M.length;$t++){const Q=M[$t];b[Q]&&b[Q].node.mode===J.mode?(w[Q][Ce]=f(b[Q].lastCount+J.length,J.mode)-f(b[Q].lastCount,J.mode),b[Q].lastCount+=J.length):(b[Q]&&(b[Q].lastCount=J.length),w[Q][Ce]=f(J.length,J.mode)+4+e.getCharCountIndicator(J.mode,k))}}M=B}for(let P=0;P<M.length;P++)w[M[P]].end=0;return{map:w,table:b}}function N(v,k){let b;const w=e.getBestModeForData(v);if(b=e.from(k,w),b!==e.BYTE&&b.bit<w.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(w));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(v);case e.ALPHANUMERIC:return new r(v);case e.KANJI:return new s(v);case e.BYTE:return new i(v)}}t.fromArray=function(k){return k.reduce(function(b,w){return typeof w=="string"?b.push(N(w,null)):w.data&&b.push(N(w.data,w.mode)),b},[])},t.fromString=function(k,b){const w=m(k,a.isKanjiModeEnabled()),M=p(w),P=E(M,b),O=c.find_path(P.map,"start","end"),B=[];for(let V=1;V<O.length-1;V++)B.push(P.table[O[V]].node);return t.fromArray(d(B))},t.rawSplit=function(k){return t.fromArray(m(k,a.isKanjiModeEnabled()))}})(Lr);const Zt=H,zt=Bt,Hi=xi,Fi=ki,Ki=Er,Ji=Nr,sn=Sr,on=Lt,Wi=Ci,Et=Rr,Yi=Pr,qi=ae,Ht=Lr;function Gi(t,e){const n=t.size,r=Ji.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function Qi(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Xi(t,e){const n=Ki.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function eo(t,e){const n=t.size,r=Et.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Ft(t,e,n){const r=t.size,i=Yi.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function to(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function no(t,e,n){const r=new Hi;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),qi.getCharCountIndicator(c.mode,t)),c.write(r)});const i=Zt.getSymbolTotalCodewords(t),s=on.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return ro(r,t,e)}function ro(t,e,n){const r=Zt.getSymbolTotalCodewords(e),i=on.getTotalCodewordsCount(e,n),s=r-i,o=on.getBlocksCount(e,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),m=u+1,f=l-u,d=new Wi(f);let p=0;const E=new Array(o),N=new Array(o);let v=0;const k=new Uint8Array(t.buffer);for(let O=0;O<o;O++){const B=O<c?u:m;E[O]=k.slice(p,p+B),N[O]=d.encode(E[O]),p+=B,v=Math.max(v,B)}const b=new Uint8Array(r);let w=0,M,P;for(M=0;M<v;M++)for(P=0;P<o;P++)M<E[P].length&&(b[w++]=E[P][M]);for(M=0;M<f;M++)for(P=0;P<o;P++)b[w++]=N[P][M];return b}function so(t,e,n,r){let i;if(Array.isArray(t))i=Ht.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=Ht.rawSplit(t);l=Et.getBestVersionForData(u,n)}i=Ht.fromString(t,l||40)}else throw new Error("Invalid data");const s=Et.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=no(e,n,i),a=Zt.getSymbolSize(e),c=new Fi(a);return Gi(c,e),Qi(c),Xi(c,e),Ft(c,n,0),e>=7&&eo(c,e),to(c,o),isNaN(r)&&(r=sn.getBestMask(c,Ft.bind(null,c,n))),sn.applyMask(r,c),Ft(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Tr.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=zt.M,i,s;return typeof n<"u"&&(r=zt.from(n.errorCorrectionLevel,zt.M),i=Et.from(n.version),s=sn.from(n.maskPattern),n.toSJISFunc&&Zt.setToSJISFunction(n.toSJISFunc)),so(e,i,r,s)};var Or={},xn={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,m=[s.color.light,s.color.dark];for(let f=0;f<l;f++)for(let d=0;d<l;d++){let p=(f*l+d)*4,E=s.color.light;if(f>=u&&d>=u&&f<l-u&&d<l-u){const N=Math.floor((f-u)/c),v=Math.floor((d-u)/c);E=m[a[N*o+v]?1:0]}r[p++]=E.r,r[p++]=E.g,r[p++]=E.b,r[p]=E.a}}})(xn);(function(t){const e=xn;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),m=l.getContext("2d"),f=m.createImageData(u,u);return e.qrToImageData(f.data,s,c),n(m,l,u),m.putImageData(f,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",m=c.rendererOpts||{};return l.toDataURL(u,m.quality)}})(Or);var Zr={};const io=xn;function zn(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Kt(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function oo(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(r+=s?Kt("M",c+n,.5+l+n):Kt("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(r+=Kt("h",o),o=0)):i++}return r}Zr.render=function(e,n,r){const i=io.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+zn(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+zn(i.color.dark,"stroke")+' d="'+oo(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,f),f};const ao=wi,an=Tr,$r=Or,co=Zr;function kn(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!ao())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,l){try{const u=an.create(n,r);c(t(u,e,r))}catch(u){l(u)}})}try{const c=an.create(n,r);i(null,t(c,e,r))}catch(c){i(c)}}an.create;kn.bind(null,$r.render);kn.bind(null,$r.renderToDataURL);var uo=kn.bind(null,function(t,e,n){return co.render(t,n)});const lo=({text:t,className:e})=>{const n=zr();return St(()=>{uo(t,{type:"svg",errorCorrectionLevel:"low",margin:1},(r,i)=>{if(i===void 0){n.current.innerHTML="";return}n.current.innerHTML=i})},[t]),y("div",{ref:n,className:e})},z=fe(void 0);Qe(async()=>{if(!z.value)return;const t=await di(z.value);localStorage.setItem(bt,t)});const fo=()=>{const t=Tt("");return St(()=>{(async()=>{if(!z.value)return;const n=encodeURIComponent(await mr(z.value.publicKey));t.value=`${location.protocol}//${location.host}/chat/${n}`})()},[z.value]),y(Mt,{children:y("div",{className:"flex flex-col justify-center",children:[y("h1",{className:"text-center m-1 text-xl",children:"Create a new conversation"}),y("p",{className:"m-2",children:"Show this QR code to the person you want to chat with:"}),y(lo,{text:t.value,className:"m-2"})]})})},cn=128,ho=cn*Math.pow(2,7);class po{constructor(){X(this,"timeoutId");X(this,"ws");X(this,"isConnected");X(this,"previousIsConnected");X(this,"retryDelay");X(this,"onStateChange");X(this,"onMessage");X(this,"shouldBeOpen");this.isConnected=!1,this.previousIsConnected=!1,this.retryDelay=cn,this.shouldBeOpen=!1}connect(e,n,r){this.shouldBeOpen=!0,this.ws=this._connect(e),this.onStateChange=n,this.onMessage=r}setState(e){var n;this.previousIsConnected=this.isConnected,this.isConnected=e,this.previousIsConnected!==this.isConnected&&((n=this.onStateChange)==null||n.call(this,this.isConnected))}_connect(e){clearTimeout(this.timeoutId);const n=new WebSocket(e);return n.onopen=()=>{this.setState(!0),this.retryDelay=cn},n.onmessage=r=>{var i;(i=this.onMessage)==null||i.call(this,JSON.parse(r.data))},n.onclose=()=>{this.setState(!1),this.shouldBeOpen&&(this.previousIsConnected===!1&&this.isConnected===!1&&(this.retryDelay*=2),this.timeoutId=window.setTimeout(()=>this._connect(e),Math.min(ho,this.retryDelay)))},this.ws=n,n}send(e){var n;(n=this.ws)==null||n.send(JSON.stringify(e))}close(){var e;this.shouldBeOpen=!1,(e=this.ws)==null||e.close()}}const Dr=fe(!1),Hn=new po;Qe(async()=>{if(!z.value){Hn.close();return}const t=encodeURIComponent(await mr(z.value.publicKey));Hn.connect(`wss://noti-relay.deno.dev?publicKey=${t}`,e=>{Dr.value=e,console.log(e)},console.log)});const ot=fe(!1),_o=()=>y("button",{title:"Show profile data",type:"button",className:"focus:outline-none p-2",onClick:()=>ot.value=!ot.value,children:y("i",{className:`text-3xl fa-solid ${ot.value?"fa-chevron-up":"fa-chevron-down"}`})}),mo=({alt:t,src:e,size:n=64})=>y("img",{width:n,height:n,alt:t,src:e||`https://ui-avatars.com/api/?name=${t}&rounded=true&format=svg`}),Jt=({onClick:t,children:e})=>y("button",{type:"button",className:"font-bold border rounded border-white p-1 m-2",onClick:t,children:e}),yo=t=>{var r,i;const[e,n]=mn();return y("div",{className:`text-white p-2 w-full ${ot.value?"":"hidden"}`,children:[y("div",{className:"flex justify-evenly items-center p-2",children:[y("div",{children:y(mo,{alt:((r=z.value)==null?void 0:r.username)||""})}),y("span",{children:["Username: ",(i=z.value)==null?void 0:i.username]})]}),y("div",{className:"flex flex-col justify-evenly py-3",children:[y(Jt,{onClick:()=>console.log("edit"),children:["Edit ",y("i",{className:"fa-regular fa-pen-to-square"})]}),y(Jt,{onClick:()=>{localStorage.removeItem(bt),z.value=void 0,n("/")},children:["Sign out ",y("i",{className:"fa-solid fa-right-from-bracket"})]}),y(Jt,{onClick:()=>{const s=document.createElement("a");s.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(localStorage.getItem(bt)||"")}`),s.setAttribute("download",`${crypto.randomUUID()}.json`),s.click()},children:"Save identity"})]})]})},go=()=>y(Mt,{children:[y("div",{class:"flex items-center justify-between px-5 py-3 w-full",children:[y("h1",{class:"font-bold text-2xl w-full",children:"Conversations"}),y(_o,{})]}),y(yo,{}),y("div",{className:"flex-1",children:y("span",{children:["Status: ",Dr.value?"Connected":"Not connected"]})}),y(ms,{href:"/create",children:y("div",{className:"absolute bg-blue-500 w-20 h-20 flex justify-center items-center rounded-[50%] cursor-pointer right-20 bottom-20",children:y("i",{className:"fa-solid fa-plus text-3xl"})})})]}),vo=()=>{const t=Tt(""),e=Tt(""),[n,r]=mn();return y(Mt,{children:y("div",{className:"max-w-sm border border-white rounded p-8 my-2 mx-auto flex flex-col",children:[y("h1",{className:"text-center m-1 text-5xl",children:"Noti"}),y("h2",{className:"text-center m-1",children:["Sign in ",y("i",{className:"fa-solid fa-rocket"})]}),e.value!==""?y("div",{class:"border-2 font-bold text-xs leading-5 rounded text-red-800 bg-red-300 border-red-800 my-2 p-2",children:["Validation error:",y("br",{}),e.value]}):null,y("form",{onSubmit:async i=>{if(i.preventDefault(),t.value===""){e.value="You must provide a username.";return}const{publicKey:s,privateKey:o}=await fi();z.value={publicKey:s,privateKey:o,username:t.value},r("/home")},children:[y("label",{for:"username",children:"New username:"}),y("input",{type:"text",name:"username",title:"username",className:"bg-black border border-white rounded outline-none p-1 my-1 w-full",onInput:({target:i})=>{i instanceof HTMLInputElement&&(t.value=i.value)},value:t.value,autofocus:!0}),y("button",{type:"submit",className:"font-bold border rounded border-white p-1 my-1 w-full",children:"Generate new identity"})]}),y("span",{className:"text-gray-300 mx-auto",children:"- OR -"}),y("label",{className:"font-bold border rounded border-white p-1 my-1 text-center cursor-pointer",children:[y("input",{title:"Import indentity",type:"file",className:"hidden",accept:".json",onChange:async({currentTarget:i})=>{if(i.files){const s=await li(i.files);if(!s){e.value="Failed to import identity. Choose an exported json file that contains your identity.";return}z.value=s,r("/home")}}}),"Import indentity"]})]})})},wo=()=>{const[t,e]=mn();return St(()=>{(async()=>{const r=await hi();r&&(z.value=r,t==="/"&&e("/home"))})()},[]),y(_s,{children:y(ys,{children:[y(Ee,{path:"/chat/:privateKey",component:vi}),y(Ee,{path:"/create",component:fo}),y(Ee,{path:"/home",component:go}),y(Ee,{path:"/",component:vo}),y(Ee,{children:"404, Not Found!"})]})})};Jr(y(wo,{}),document.getElementById("app"));
